# Reddit Detective Agency - ìµœì¢… ì•„í‚¤í…ì²˜ (í•´ì»¤í†¤ ì „ìŸ ëª¨ë“œ)

**ì‘ì„±ì¼**: 2025-01-15
**ìƒíƒœ**: ğŸ”¥ **ì „ìŸ ëª¨ë“œ í™œì„±í™” - ì¦‰ì‹œ êµ¬í˜„ ì‹œì‘**
**ë‚¨ì€ ê¸°ê°„**: 16ì¼
**ì² í•™**: **ì‘ë™í•˜ëŠ” ê²ƒ > ìµœì í™”ëœ ê²ƒ**

---

## ğŸ”¥ í•´ì»¤í†¤ ì „ìŸ ëª¨ë“œ

### í•µì‹¬ ì›ì¹™

> **"ì´ê±´ í•´ì»¤í†¤ì´ë‹¤. ì „ìŸì´ë‹¤. Over-engineeringì€ ì ì´ë‹¤."**

#### 1. **MVP First, Everything Else Later**
- Phase 1: ì‘ë™ë§Œ í•˜ë©´ OK â†’ ìºì‹± ì—†ìŒ, ë³µì¡í•œ ìµœì í™” ì—†ìŒ
- Phase 2: ì‹œê°„ ë‚¨ìœ¼ë©´ ê°œì„  â†’ ê°„ë‹¨í•œ Redis ìºì‹±
- Phase 3: ì™„ì „íˆ ì—¬ìœ ìˆìœ¼ë©´ â†’ Vector ìºì‹±

#### 2. **í•„ìš”í•œ ê²ƒë§Œ ì„¤ì¹˜**
```bash
# í•„ìš”í•œ ê²ƒ (2ê°œ!)
âœ… Gemini API í‚¤
âœ… Vercel ê³„ì •

# í•„ìš” ì—†ëŠ” ê²ƒ
âŒ OpenAI API í‚¤ (Geminië¡œ ë‹¤ í•´ê²°)
âŒ Upstash Vector (ë‚˜ì¤‘ì—!)
```

#### 3. **16ì¼ = 96ì‹œê°„ = ë§¤ì´ˆê°€ ê·€í•˜ë‹¤**
- ê³„íšì€ ì´ë¯¸ ì¶©ë¶„í•¨
- ë” ì´ìƒ ê³„íší•˜ì§€ ë§ê³  **ì§€ê¸ˆ ì½”ë”© ì‹œì‘**
- êµ¬í˜„í•˜ë©´ì„œ ë°°ìš°ëŠ” ê²Œ ë” ë¹ ë¦„

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### í•´ì»¤í†¤ ì •ë³´
- **ëŒ€íšŒ**: Reddit Games and Puzzles Hackathon
- **ìƒê¸ˆ**: $45,000
- **ë§ˆê°**: 16ì¼ í›„
- **í”Œë«í¼**: Devvit (Reddit Developer Platform)

### í•µì‹¬ ê¸°ëŠ¥
1. **AI ê¸°ë°˜ ë¨¸ë”ë¯¸ìŠ¤í„°ë¦¬ ìë™ ìƒì„±**: ë§¤ì¼ ìƒˆë¡œìš´ ì‚¬ê±´ì´ ìë™ìœ¼ë¡œ ìƒì„±ë¨
2. **ì‹¤ì œ í”Œë ˆì´ ê°€ëŠ¥**: 3ëª…ì˜ AI ìš©ì˜ìì™€ ëŒ€í™”í•˜ë©° ì¶”ë¦¬

### MVP ì „ëµ
- **Strategy A**: ë©”ì¸ ì¼€ì´ìŠ¤ë§Œ (ë¯¸ë‹ˆ ì¼€ì´ìŠ¤ ì œì™¸)
- **ì´ë¯¸ì§€ ìƒì„±**: Phase 1 í•„ìˆ˜ í¬í•¨ (ìºì‹± ì—†ì´!)
- **Spirit of Kiro íŒ¨í„´**: word-lists, emotional states ì ìš© (ê°„ë‹¨í•œ ê²ƒë§Œ)

---

## âœ… ê²€ì¦ ì™„ë£Œëœ ê¸°ìˆ  ìŠ¤íƒ (ë‹¨ìˆœí™”)

### 1. AI ëª¨ë¸ - Gemini APIë§Œ ì‚¬ìš©!

#### í…ìŠ¤íŠ¸ LLM: `gemini-flash-lite-latest`
- **ìš©ë„**: ëª¨ë“  í…ìŠ¤íŠ¸ ìƒì„± (ì¼€ì´ìŠ¤, AI ìš©ì˜ì ëŒ€í™”, ì±„ì , **ì„ë² ë”©**)
- **ê°€ê²©**: $0.10/1M input, $0.40/1M output
- **ì†ë„**: 887 tokens/s (ë§¤ìš° ë¹ ë¦„)

```typescript
// API ì—”ë“œí¬ì¸íŠ¸
const GEMINI_TEXT_API = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-flash-lite-latest:generateContent';

// ì„ë² ë”© API (Phase 2-3ì—ì„œ ì‚¬ìš©)
const GEMINI_EMBEDDING_API = 'https://generativelanguage.googleapis.com/v1beta/models/text-embedding-004:embedContent';
```

#### ì´ë¯¸ì§€ ìƒì„±: `gemini-2.5-flash-image`
- **ìš©ë„**: ì‚¬ê±´ í˜„ì¥ ì´ë¯¸ì§€ ìƒì„±
- **ê°€ê²©**: $0.039/ì´ë¯¸ì§€
- **Phase 1**: ìºì‹± ì—†ì´ ì§ì ‘ ìƒì„± ($1.17/ì›” - OK!)

```typescript
const GEMINI_IMAGE_API = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent';
```

### 2. ì¸í”„ë¼

#### Devvit (Reddit Developer Platform)
- **Client**: React ê¸°ë°˜ UI
- **Server**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ + Scheduler API + Redis KV
- **ì œì•½**: 1ì´ˆ ì‹¤í–‰ ì œí•œ â†’ Schedulerë¡œ í•´ê²°

#### Vercel Function (ì´ˆê°„ë‹¨ ë²„ì „)
```typescript
// Phase 1: ìºì‹± ì—†ìŒ - 30ë¶„ì´ë©´ êµ¬í˜„ ì™„ë£Œ!
export default async function handler(req, res) {
  const { prompt } = req.body;

  // Geminië¡œ ì´ë¯¸ì§€ ìƒì„± (ìºì‹± ì—†ìŒ)
  const response = await fetch(
    'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent',
    {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'x-goog-api-key': process.env.GEMINI_API_KEY!
      },
      body: JSON.stringify({
        contents: [{ parts: [{ text: prompt }] }]
      })
    }
  );

  const data = await response.json();
  const imageUrl = `data:image/png;base64,${data.candidates[0].content.parts[0].inlineData.data}`;

  return res.json({ imageUrl });
}
```

### 3. Spirit of Kiro íŒ¨í„´ (ë‹¨ìˆœí™”)

#### âœ… CaseElementLibrary (í•„ìˆ˜ - Phase 1)
- **ëª©ì **: ì¼ê´€ëœ ì½˜í…ì¸  í’ˆì§ˆ
- **êµ¬í˜„**: ìˆœìˆ˜ JavaScript, Date seed ê¸°ë°˜

```typescript
export const CaseElementLibrary = {
  weapons: ['ë…ê·¹ë¬¼', 'ë‘”ê¸°', 'ë‚ ì¹´ë¡œìš´ í‰ê¸°', 'ì´ê¸°', 'ì§ˆì‹', 'ì¶”ë½'],
  motives: [
    { category: 'ê¸ˆì „', keywords: ['ìœ ì‚°', 'ë³´í—˜ê¸ˆ', 'ë¹š'] },
    { category: 'ë³µìˆ˜', keywords: ['ë°°ì‹ ', 'ì›í•œ', 'ëª¨ìš•'] },
  ],
  locations: [
    { name: 'ë°€ì‹¤ ì„œì¬', props: ['ì±…ì¥', 'ê¸ˆê³ ', 'ë¹„ë°€ í†µë¡œ'] },
    { name: 'ì €íƒ ì •ì›', props: ['ë¶„ìˆ˜', 'ë™ìƒ', 'ì¥ë¯¸ ë¤ë¶ˆ'] },
  ]
};
```

#### âœ… Emotional State System (í•„ìˆ˜ - Phase 1)
- **ëª©ì **: ë™ì  AI ìš©ì˜ì í–‰ë™
- **êµ¬í˜„**: Devvit Redis KV

```typescript
interface SuspectEmotionalState {
  suspicionLevel: number; // 0-100
  tone: 'cooperative' | 'nervous' | 'defensive' | 'aggressive';
}
```

#### ğŸŸ¡ ì´ë¯¸ì§€ ìºì‹± (ì„ íƒ - Phase 2-3)
- **Phase 1**: ìºì‹± ì—†ìŒ ($1.17/ì›” - 16ì¼ì´ë©´ $0.62, OK!)
- **Phase 2**: Devvit Redis ìºì‹± (ì‹œê°„ ë‚¨ìœ¼ë©´)
- **Phase 3**: Upstash Vector ìºì‹± (ì™„ì „íˆ ì—¬ìœ ìˆìœ¼ë©´)

---

## ğŸ—ï¸ ìµœì¢… ì•„í‚¤í…ì²˜ (3-Tier)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CLIENT LAYER (React)                       â”‚
â”‚  - CaseOverview, SuspectPanel, ChatInterface               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
                    fetch('/api/...')
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           DEVVIT SERVER (Business Logic)                    â”‚
â”‚  - CaseGeneratorService (Gemini í…ìŠ¤íŠ¸)                    â”‚
â”‚  - SuspectAIService (Gemini í…ìŠ¤íŠ¸)                        â”‚
â”‚  - ScoringEngine (Gemini í…ìŠ¤íŠ¸)                           â”‚
â”‚  - Redis KV (ë°ì´í„° ì €ì¥)                                  â”‚
â”‚  - Scheduler API (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
                fetch(Gemini API / Vercel)
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXTERNAL SERVICES                        â”‚
â”‚  â€¢ Gemini API                                               â”‚
â”‚    - gemini-flash-lite-latest (ëª¨ë“  í…ìŠ¤íŠ¸)               â”‚
â”‚    - gemini-2.5-flash-image (ì´ë¯¸ì§€)                      â”‚
â”‚                                                             â”‚
â”‚  â€¢ Vercel Function                                          â”‚
â”‚    - Phase 1: ì´ë¯¸ì§€ ìƒì„± (ìºì‹± ì—†ìŒ)                     â”‚
â”‚    - Phase 2: + Redis ìºì‹± (ì„ íƒ)                         â”‚
â”‚    - Phase 3: + Vector ìºì‹± (ì„ íƒ)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡° (ë‹¨ìˆœí™”)

### ğŸ”´ P0 (í•„ìˆ˜ - Week 1)
```
src/server/services/
â”œâ”€â”€ case/
â”‚   â”œâ”€â”€ CaseElementLibrary.ts        # â­ word-lists
â”‚   â””â”€â”€ CaseGeneratorService.ts      # â­ Gemini ì¼€ì´ìŠ¤ ìƒì„±
â”œâ”€â”€ suspect/
â”‚   â”œâ”€â”€ SuspectAIService.ts          # â­ AI ìš©ì˜ì
â”‚   â””â”€â”€ EmotionalStateManager.ts     # â­ ê°ì • ìƒíƒœ
â”œâ”€â”€ scoring/
â”‚   â”œâ”€â”€ ScoringEngine.ts             # â­ ì±„ì 
â”‚   â””â”€â”€ W4HValidator.ts              # â­ 5W1H ê²€ì¦
â”œâ”€â”€ gemini/
â”‚   â””â”€â”€ GeminiClient.ts              # â­ Gemini API í´ë¼ì´ì–¸íŠ¸
â””â”€â”€ repositories/kv/
    â”œâ”€â”€ KVStoreManager.ts            # â­ Redis ì¶”ìƒí™”
    â””â”€â”€ CaseRepository.ts

src/server/schedulers/
â””â”€â”€ DailyCaseScheduler.ts            # â­ ë§¤ì¼ ì‚¬ê±´ ìƒì„±

src/server/triggers/
â””â”€â”€ CommentSubmitTrigger.ts          # â­ ëŒ“ê¸€ ì²˜ë¦¬

src/client/components/
â”œâ”€â”€ case/
â”‚   â”œâ”€â”€ CaseOverview.tsx             # â­ ì‚¬ê±´ ê°œìš”
â”‚   â””â”€â”€ CaseImage.tsx                # â­ ì‚¬ê±´ ì´ë¯¸ì§€
â”œâ”€â”€ suspect/
â”‚   â”œâ”€â”€ SuspectPanel.tsx             # â­ ìš©ì˜ì íŒ¨ë„
â”‚   â””â”€â”€ SuspectCard.tsx
â””â”€â”€ chat/
    â”œâ”€â”€ ChatInterface.tsx            # â­ AI ëŒ€í™”
    â””â”€â”€ MessageList.tsx

vercel/api/
â””â”€â”€ generate-image.ts                # â­ ì´ë¯¸ì§€ ìƒì„± (ìºì‹± ì—†ìŒ)
```

---

## ğŸ’» í•µì‹¬ ì½”ë“œ (ë‹¨ìˆœí™”)

### 1. Vercel Function (Phase 1 - ì´ˆê°„ë‹¨!)

```typescript
// vercel/api/generate-image.ts
// 30ë¶„ì´ë©´ ì™„ì„±!

export default async function handler(req, res) {
  if (req.method !== 'POST') {
    return res.status(405).json({ error: 'Method not allowed' });
  }

  const { prompt } = req.body;

  try {
    // Geminië¡œ ì´ë¯¸ì§€ ìƒì„± (ìºì‹± ì—†ìŒ)
    const response = await fetch(
      'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent',
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'x-goog-api-key': process.env.GEMINI_API_KEY!
        },
        body: JSON.stringify({
          contents: [{ parts: [{ text: prompt }] }]
        })
      }
    );

    if (!response.ok) {
      throw new Error(`Gemini API error: ${response.status}`);
    }

    const data = await response.json();
    const base64Image = data.candidates[0].content.parts[0].inlineData.data;
    const imageUrl = `data:image/png;base64,${base64Image}`;

    console.log('âœ… Image generated:', imageUrl.substring(0, 50));

    return res.json({ imageUrl });

  } catch (error) {
    console.error('Image generation error:', error);
    return res.status(500).json({ error: 'Image generation failed' });
  }
}
```

### 2. GeminiClient.ts (ëª¨ë“  ê¸°ëŠ¥!)

```typescript
// src/server/services/gemini/GeminiClient.ts

export class GeminiClient {
  private readonly TEXT_MODEL = 'gemini-flash-lite-latest';
  private readonly IMAGE_MODEL = 'gemini-2.5-flash-image';
  private readonly EMBEDDING_MODEL = 'text-embedding-004';
  private readonly BASE_URL = 'https://generativelanguage.googleapis.com/v1beta/models';
  private readonly apiKey: string;

  constructor(apiKey: string) {
    this.apiKey = apiKey;
  }

  /**
   * í…ìŠ¤íŠ¸ ìƒì„± (ì¼€ì´ìŠ¤, AI ìš©ì˜ì ëŒ€í™”, ì±„ì )
   */
  async generateText(prompt: string): Promise<string> {
    const response = await fetch(
      `${this.BASE_URL}/${this.TEXT_MODEL}:generateContent`,
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'x-goog-api-key': this.apiKey
        },
        body: JSON.stringify({
          contents: [{ parts: [{ text: prompt }] }]
        })
      }
    );

    if (!response.ok) {
      throw new Error(`Gemini API error: ${response.status}`);
    }

    const data = await response.json();
    return data.candidates[0].content.parts[0].text;
  }

  /**
   * ì´ë¯¸ì§€ ìƒì„± (Vercel Functionìœ¼ë¡œ ìœ„ì„)
   */
  async generateImage(prompt: string): Promise<string> {
    const response = await fetch('https://your-vercel-function.vercel.app/api/generate-image', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt })
    });

    const data = await response.json();
    return data.imageUrl;
  }

  /**
   * ì„ë² ë”© ìƒì„± (Phase 2-3ì—ì„œ ìºì‹± ìš©ë„)
   */
  async generateEmbedding(text: string): Promise<number[]> {
    const response = await fetch(
      `${this.BASE_URL}/${this.EMBEDDING_MODEL}:embedContent`,
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'x-goog-api-key': this.apiKey
        },
        body: JSON.stringify({
          model: `models/${this.EMBEDDING_MODEL}`,
          content: { parts: [{ text }] }
        })
      }
    );

    const data = await response.json();
    return data.embedding.values;
  }
}
```

---

## ğŸ“… 16ì¼ êµ¬í˜„ ë¡œë“œë§µ (ë‹¨ìˆœí™”)

### Week 1 (Day 1-7): ğŸ”´ MVP ì™„ì„±

#### Day 1: í™˜ê²½ ì„¤ì • (2-3ì‹œê°„)
```bash
# í•„ìš”í•œ ê²ƒë§Œ!
âœ… npm install -g devvit
âœ… devvit login
âœ… devvit new armchair-sleuths
âœ… Gemini API í‚¤ ë°œê¸‰
âœ… Vercel ê³„ì • ìƒì„±
âœ… .env íŒŒì¼ ìƒì„± (GEMINI_API_KEYë§Œ!)

# í•„ìš” ì—†ëŠ” ê²ƒ
âŒ OpenAI
âŒ Upstash
```

#### Day 2: ë°ì´í„° ë ˆì´ì–´ (6ì‹œê°„)
- [ ] CaseElementLibrary.ts
- [ ] KVStoreManager.ts (Redis)
- [ ] CaseRepository.ts
- [ ] ìœ ë‹› í…ŒìŠ¤íŠ¸

#### Day 3: Gemini + ì¼€ì´ìŠ¤ ìƒì„± (6ì‹œê°„)
- [ ] GeminiClient.ts
- [ ] CaseGeneratorService.ts
- [ ] DailyCaseScheduler.ts
- [ ] ì¼€ì´ìŠ¤ 3ê°œ ìƒì„± í…ŒìŠ¤íŠ¸

#### Day 4: ì´ë¯¸ì§€ ìƒì„± (6ì‹œê°„)
- [ ] Vercel Function (ìºì‹± ì—†ìŒ - 30ë¶„!)
- [ ] ImageGeneratorService.ts
- [ ] ì´ë¯¸ì§€ 5ê°œ ìƒì„± í…ŒìŠ¤íŠ¸
- **ìºì‹±ì€ ë‚˜ì¤‘ì—!**

#### Day 5: AI ìš©ì˜ì (6ì‹œê°„)
- [ ] EmotionalStateManager.ts
- [ ] SuspectAIService.ts
- [ ] AIResponseProcessor.ts
- [ ] ìš©ì˜ì 3ëª…ê³¼ ëŒ€í™” í…ŒìŠ¤íŠ¸

#### Day 6: ì±„ì  ì‹œìŠ¤í…œ (6ì‹œê°„)
- [ ] W4HValidator.ts
- [ ] ScoringEngine.ts
- [ ] CommentSubmitTrigger.ts
- [ ] ë‹µë³€ 10ê°œ ì±„ì  í…ŒìŠ¤íŠ¸

#### Day 7: í´ë¼ì´ì–¸íŠ¸ UI (6ì‹œê°„)
- [ ] CaseOverview.tsx
- [ ] SuspectPanel.tsx
- [ ] ChatInterface.tsx
- [ ] ì „ì²´ í”Œë¡œìš° í†µí•© í…ŒìŠ¤íŠ¸

**Week 1 ì²´í¬í¬ì¸íŠ¸**: ì‘ë™í•˜ëŠ” MVP âœ…

---

### Week 2 (Day 8-14): ğŸŸ¡ ê°œì„  ë° ì•ˆì •í™”

#### Day 8-9: ë¦¬ë”ë³´ë“œ + ì œì¶œ UI
- [ ] LeaderboardService.ts
- [ ] SubmissionForm.tsx
- [ ] ResultModal.tsx

#### Day 10-11: ë²„ê·¸ ìˆ˜ì • + í…ŒìŠ¤íŠ¸
- [ ] End-to-End í…ŒìŠ¤íŠ¸
- [ ] ë²„ê·¸ ìˆ˜ì •
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”

#### Day 12-14: UX ê°œì„ 
- [ ] ë¡œë”© ìƒíƒœ
- [ ] ì—ëŸ¬ ë©”ì‹œì§€
- [ ] ëª¨ë°”ì¼ ìµœì í™”

**ì„ íƒ (ì‹œê°„ ë‚¨ìœ¼ë©´)**:
- [ ] Phase 2: Redis ì´ë¯¸ì§€ ìºì‹± (1-2ì‹œê°„)

---

### Week 3 (Day 15-16): ğŸš€ ë°°í¬

#### Day 15: ìµœì¢… í…ŒìŠ¤íŠ¸
- [ ] QA
- [ ] í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸
- [ ] ë¬¸ì„œí™”

#### Day 16: ë°°í¬ ë° ì œì¶œ
- [ ] Devvit ë°°í¬
- [ ] Vercel ë°°í¬
- [ ] í•´ì»¤í†¤ ì œì¶œ ğŸ‰

---

## ğŸ¯ 3ë‹¨ê³„ ì´ë¯¸ì§€ ìºì‹± ì „ëµ

### Phase 1: ìºì‹± ì—†ìŒ (Day 1-7)
**ì§€ê¸ˆ ë°”ë¡œ ì´ê±¸ë¡œ ì‹œì‘!**

```typescript
// 30ë¶„ì´ë©´ ì™„ì„±
export default async function handler(req, res) {
  const imageUrl = await generateImageWithGemini(req.body.prompt);
  return res.json({ imageUrl });
}
```

**ë¹„ìš©**: $1.17/30ì¼ = **16ì¼ì´ë©´ $0.62** â† ì™„ì „íˆ OK!
**ì¥ì **: êµ¬í˜„ 30ë¶„, ë²„ê·¸ ì œë¡œ, ë°”ë¡œ ë‹¤ìŒ ê¸°ëŠ¥ ê°œë°œ ê°€ëŠ¥
**ë‹¨ì **: ì—†ìŒ (í•´ì»¤í†¤ ê¸°ê°„ ë™ì•ˆì€)

---

### Phase 2: Redis ìºì‹± (Day 8-12, ì„ íƒ)
**ì‹œê°„ ë‚¨ìœ¼ë©´ ì¶”ê°€**

```typescript
// Vercel Functionì— Redis ì¶”ê°€
export default async function handler(req, res) {
  const { prompt } = req.body;

  // 1. Redisì—ì„œ í™•ì¸ (ì •í™•íˆ ê°™ì€ í”„ë¡¬í”„íŠ¸ë§Œ)
  const cached = await redis.get(`image:${prompt}`);
  if (cached) return res.json({ imageUrl: cached, cached: true });

  // 2. ìƒˆ ì´ë¯¸ì§€ ìƒì„±
  const imageUrl = await generateImageWithGemini(prompt);

  // 3. Redisì— ì €ì¥ (24ì‹œê°„)
  await redis.set(`image:${prompt}`, imageUrl, 86400);

  return res.json({ imageUrl, cached: false });
}
```

**êµ¬í˜„ ì‹œê°„**: 1-2ì‹œê°„
**ë¹„ìš© ì ˆê°**: 65% (ì •í™•íˆ ê°™ì€ í”„ë¡¬í”„íŠ¸ë§Œ ìºì‹œ)
**ë³µì¡ë„**: â­â­ ë‚®ìŒ

---

### Phase 3: Vector ìºì‹± (Day 13-14, ì„ íƒ)
**ì™„ì „íˆ ì—¬ìœ ìˆìœ¼ë©´**

```typescript
// Gemini embedding + Upstash Vector
export default async function handler(req, res) {
  const { prompt } = req.body;

  // 1. Gemini embedding ìƒì„±
  const embedding = await generateEmbeddingWithGemini(prompt);

  // 2. Vector ìœ ì‚¬ë„ ê²€ìƒ‰
  const similar = await vectorIndex.query({ vector: embedding });
  if (similar[0]?.score > 0.95) {
    return res.json({ imageUrl: similar[0].metadata.imageUrl });
  }

  // 3. ìƒˆ ì´ë¯¸ì§€ ìƒì„± + ì €ì¥
  const imageUrl = await generateImageWithGemini(prompt);
  await vectorIndex.upsert([{ vector: embedding, metadata: { imageUrl } }]);

  return res.json({ imageUrl });
}
```

**êµ¬í˜„ ì‹œê°„**: 2-3ì‹œê°„ + Upstash ì„¤ì •
**ë¹„ìš© ì ˆê°**: 90% (ìœ ì‚¬í•œ í”„ë¡¬í”„íŠ¸ë„ ìºì‹œ)
**ë³µì¡ë„**: â­â­â­â­ ë†’ìŒ

---

## âœ… ìˆ˜ì •ëœ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í™˜ê²½ ì„¤ì • (Day 1)
- [ ] Devvit CLI ì„¤ì¹˜
- [ ] Gemini API í‚¤ ë°œê¸‰ â­ **ì´ê²ƒë§Œ!**
- [ ] Vercel ê³„ì • ìƒì„±
- [ ] .env íŒŒì¼ ìƒì„±
- [ ] Redis KV ì—°ê²° í…ŒìŠ¤íŠ¸

### Phase 1 í•„ìˆ˜ (Day 1-7)
- [ ] CaseElementLibrary.ts
- [ ] CaseGeneratorService.ts
- [ ] GeminiClient.ts (í…ìŠ¤íŠ¸ + ì´ë¯¸ì§€)
- [ ] EmotionalStateManager.ts
- [ ] SuspectAIService.ts
- [ ] ScoringEngine.ts
- [ ] DailyCaseScheduler.ts
- [ ] Vercel Function (ìºì‹± ì—†ìŒ)
- [ ] í´ë¼ì´ì–¸íŠ¸ UI (ê¸°ë³¸)

### Phase 2 ì„ íƒ (Day 8-14)
- [ ] LeaderboardService.ts
- [ ] SubmissionForm.tsx
- [ ] Redis ì´ë¯¸ì§€ ìºì‹± (ì„ íƒ)
- [ ] ë²„ê·¸ ìˆ˜ì •
- [ ] UX ê°œì„ 

### Phase 3 ì„ íƒ (ì‹œê°„ ë‚¨ìœ¼ë©´)
- [ ] Upstash Vector ì„¤ì •
- [ ] Vector ìºì‹± êµ¬í˜„
- [ ] ì¶”ê°€ ì• ë‹ˆë©”ì´ì…˜

---

## ğŸ’° ë¹„ìš© ê³„ì‚° (ë‹¨ìˆœí™”)

### Phase 1 (ìºì‹± ì—†ìŒ)
| í•­ëª© | 16ì¼ ë¹„ìš© | ë¹„ê³  |
|------|-----------|------|
| Gemini Text | ~$2.50 | ì¼€ì´ìŠ¤ + AI ëŒ€í™” |
| Gemini Image | **$0.62** | 16ê°œ ì´ë¯¸ì§€ |
| Vercel | ë¬´ë£Œ | ë¬´ë£Œ í‹°ì–´ |
| Devvit | ë¬´ë£Œ | Reddit ì œê³µ |
| **í•©ê³„** | **~$3.12** | **ì™„ì „íˆ OK!** |

### Phase 2 (Redis ìºì‹±)
| í•­ëª© | 16ì¼ ë¹„ìš© | ë¹„ê³  |
|------|-----------|------|
| Gemini Image | **$0.22** | 65% ì ˆê° |
| **í•©ê³„** | **~$2.72** | 40ì„¼íŠ¸ ì ˆì•½ |

### Phase 3 (Vector ìºì‹±)
| í•­ëª© | 16ì¼ ë¹„ìš© | ë¹„ê³  |
|------|-----------|------|
| Gemini Image | **$0.06** | 90% ì ˆê° |
| Upstash | ë¬´ë£Œ | ë¬´ë£Œ í‹°ì–´ |
| **í•©ê³„** | **~$2.56** | 56ì„¼íŠ¸ ì ˆì•½ |

**ê²°ë¡ **: Phase 1ë¡œ ì‹œì‘í•´ë„ **$3.12ë©´ ì¶©ë¶„!** ìµœì í™”ëŠ” ë‚˜ì¤‘ì—!

---

## ğŸš¨ ì£¼ì˜ì‚¬í•­

### 1. Over-engineering ê¸ˆì§€!
- âŒ "ì™„ë²½í•œ ìºì‹± ì‹œìŠ¤í…œ ë¨¼ì € ë§Œë“¤ì–´ì•¼ì§€"
- âœ… "ì¼ë‹¨ ì‘ë™í•˜ê²Œ ë§Œë“¤ê³ , ì‹œê°„ ë‚¨ìœ¼ë©´ ìµœì í™”"

### 2. ê³„íš ë§ˆë¹„ ê¸ˆì§€!
- âŒ "ê³„íšì„ ë” ë‹¤ë“¬ì–´ì•¼..."
- âœ… "ì¶©ë¶„íˆ ê³„íší–ˆìœ¼ë‹ˆ ì§€ê¸ˆ ë°”ë¡œ ì½”ë”© ì‹œì‘"

### 3. ì™„ë²½ì£¼ì˜ ê¸ˆì§€!
- âŒ "ì´ ì½”ë“œëŠ” ë¦¬íŒ©í† ë§ì´ í•„ìš”í•´"
- âœ… "ì‘ë™í•˜ë©´ OK, ë‹¤ìŒ ê¸°ëŠ¥ìœ¼ë¡œ"

### 4. ì‹œê°„ ë‚­ë¹„ ê¸ˆì§€!
- âŒ 40ì„¼íŠ¸ ì ˆì•½í•˜ë ¤ê³  2ì¼ íˆ¬ì
- âœ… MVP ì™„ì„± í›„ ì—¬ìœ ìˆìœ¼ë©´ ìµœì í™”

---

## ğŸ”¥ ì¦‰ì‹œ ì‹œì‘í•˜ê¸°

### ì§€ê¸ˆ ë‹¹ì¥ í•  ì¼ (ìˆœì„œëŒ€ë¡œ)

```bash
# 1ë‹¨ê³„ (10ë¶„)
npm install -g devvit
devvit login
devvit new armchair-sleuths
cd armchair-sleuths

# 2ë‹¨ê³„ (10ë¶„)
# https://aistudio.google.com/app/apikey
# Gemini API í‚¤ ë°œê¸‰

# 3ë‹¨ê³„ (5ë¶„)
echo "GEMINI_API_KEY=your_key_here" > .env

# 4ë‹¨ê³„ (5ë¶„)
# Gemini API í…ŒìŠ¤íŠ¸
node test-gemini.js

# ë! ì´ì œ Day 2 ì‹œì‘!
```

---

## ğŸ† ì„±ê³µ ê¸°ì¤€

### Week 1 ë (Day 7)
- âœ… ì‚¬ê±´ ìë™ ìƒì„± ì‘ë™
- âœ… AI ìš©ì˜ìì™€ ëŒ€í™” ê°€ëŠ¥
- âœ… ì´ë¯¸ì§€ í‘œì‹œë¨
- âœ… ì±„ì  ì‹œìŠ¤í…œ ì‘ë™
- âœ… ê¸°ë³¸ UI ì‘ë™

**ì´ê²ƒë§Œ ë˜ë©´ MVP ì„±ê³µ!**

### Week 2 ë (Day 14)
- âœ… ë¦¬ë”ë³´ë“œ
- âœ… ë²„ê·¸ ìˆ˜ì •
- âœ… UX ê°œì„ 

### Week 3 ë (Day 16)
- âœ… ë°°í¬ ì™„ë£Œ
- âœ… í•´ì»¤í†¤ ì œì¶œ ğŸ‰

---

## ğŸ“¢ ìµœì¢… ë©”ì‹œì§€

### ì´ ë¬¸ì„œë¥¼ ì½ê³  ìˆë‹¤ë©´...

**âŒ ë” ì´ìƒ ê³„íší•˜ì§€ ë§ˆì„¸ìš”**
**âœ… ì§€ê¸ˆ ë°”ë¡œ í„°ë¯¸ë„ì„ ì—´ê³  ì‹œì‘í•˜ì„¸ìš”**

```bash
npm install -g devvit
devvit login
devvit new armchair-sleuths
```

### ê¸°ì–µí•˜ì„¸ìš”

> **"í•´ì»¤í†¤ì—ì„œ ê°€ì¥ ìœ„í—˜í•œ ì ì€ ë¶€ì¡±í•œ ê¸°ìˆ ì´ ì•„ë‹ˆë¼
> ì™„ë²½ì„ ì¶”êµ¬í•˜ëŠ” ë§ˆìŒê³¼ over-engineeringì´ë‹¤."**

### ì§€ê¸ˆ í•„ìš”í•œ ê²ƒ

1. âœ… Gemini API í‚¤
2. âœ… Vercel ê³„ì •
3. âœ… ì½”ë”© ì‹œì‘

### ì§€ê¸ˆ í•„ìš” ì—†ëŠ” ê²ƒ

1. âŒ ë” ë§ì€ ê³„íš
2. âŒ ì™„ë²½í•œ ì•„í‚¤í…ì²˜
3. âŒ OpenAI, Upstash

---

**ì‘ì„±ì**: AI Assistant
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-15
**ìƒíƒœ**: ğŸ”¥ **ì „ìŸ ëª¨ë“œ - ì¦‰ì‹œ ì‹¤í–‰**
**ë‚¨ì€ ì‹œê°„**: 16ì¼ = 384ì‹œê°„

**ì§€ê¸ˆ ì‹œì‘í•˜ì„¸ìš”! ğŸš€ğŸ”¥**
