─────────────────────────────────────────────────────╮
     │ PoC 검증 후 Production 구현 계획                     │
     │                                                      │
     │ 🎯 전략 개요                                         │
     │                                                      │
     │ 사용자 우려사항 반영:                                │
     │ - ✅ SVG 생성 제외 (Gemini는 raster에 최적화)         │
     │ - ✅ 대기 화면 + 외부 이미지 생성 방식 채택           │
     │ - ✅ Proof of Concept로 먼저 검증                     │
     │ - ✅ 검증 후 production 구현                          │
     │                                                      │
     │ ---                                                  │
     │ Phase 1: PoC 검증 (2.5시간)                          │
     │                                                      │
     │ Setup (30분)                                         │
     │                                                      │
     │ 1. Vercel 프로젝트 생성 (armchair-sleuths-poc)       │
     │ 2. 5개 테스트 함수 작성 & 배포                       │
     │ 3. Devvit webhook receiver 추가                      │
     │ 4. 환경 변수 설정                                    │
     │                                                      │
     │ Individual Tests (1시간)                             │
     │                                                      │
     │ Test 1: Vercel Timeout Validation                    │
     │ - 목적: 300초 실행 가능 여부                         │
     │ - 기준: 120초+ 실행 성공                             │
     │ - 예상 결과: ✅ PASS                                  │
     │                                                      │
     │ Test 2: Gemini API from Vercel                       │
     │ - 목적: 외부에서 Gemini 호출 가능성                  │
     │ - 기준: 6-10초 내 이미지 생성                        │
     │ - 예상 결과: ✅ PASS                                  │
     │                                                      │
     │ Test 3: Vercel Blob Upload                           │
     │ - 목적: Sharp 압축 + 업로드 검증                     │
     │ - 기준: 3초 내 완료, 99% 압축                        │
     │ - 예상 결과: ✅ PASS                                  │
     │                                                      │
     │ Test 4: Devvit Webhook                               │
     │ - 목적: Vercel → Devvit 통신                         │
     │ - 기준: 1초 내 전달                                  │
     │ - 예상 결과: ✅ PASS                                  │
     │                                                      │
     │ Test 5: E2E Integration                              │
     │ - 목적: 전체 플로우 검증                             │
     │ - 기준: 90초 내 3개 이미지 생성/업로드/webhook       │
     │ - 예상 결과: ✅ PASS (예상 60-70초)                   │
     │                                                      │
     │ Report Generation (30분)                             │
     │                                                      │
     │ - 자동화된 테스트 실행기                             │
     │ - Markdown 리포트 생성                               │
     │ - 이미지 품질 수동 검증                              │
     │ - 비용 계산                                          │
     │                                                      │
     │ ---                                                  │
     │ Phase 2: Production Implementation (PoC 통과 시)     │
     │                                                      │
     │ Week 1: Backend Infrastructure (5일)                 │
     │                                                      │
     │ Day 1-2: Vercel Production Function                  │
     │ // /api/generate-all-images.ts                       │
     │ - Gemini 병렬 이미지 생성 (14개)                     │
     │ - Sharp 압축 파이프라인                              │
     │ - Vercel Blob Storage 업로드                         │
     │ - Progress tracking                                  │
     │ - Error handling                                     │
     │                                                      │
     │ Day 3: Devvit Integration                            │
     │ // src/server/index.ts                               │
     │ - Menu handler 수정 (이미지 제외)                    │
     │ - Webhook receivers (progress, complete, failed)     │
     │ - Redis status state machine                         │
     │ - External service trigger                           │
     │                                                      │
     │ Day 4: Testing & Debugging                           │
     │ - 로컬 테스트                                        │
     │ - Playtest 환경 검증                                 │
     │ - 에러 시나리오 테스트                               │
     │                                                      │
     │ Day 5: Documentation                                 │
     │ - API 문서화                                         │
     │ - 배포 가이드                                        │
     │ - 트러블슈팅 가이드                                  │
     │                                                      │
     │ Week 2: Frontend Experience (5일)                    │
     │                                                      │
     │ Day 1-2: Waiting Screen                              │
     │ // src/client/components/WaitingScreen.tsx           │
     │ - Film noir 애니메이션                               │
     │ - Progress bar (실시간)                              │
     │ - 예상 대기 시간                                     │
     │ - Fun facts carousel                                 │
     │                                                      │
     │ Day 3: Status Polling                                │
     │ // src/client/App.tsx                                │
     │ - Case status 감지                                   │
     │ - 3초 간격 폴링                                      │
     │ - 자동 게임 전환                                     │
     │ - Error handling                                     │
     │                                                      │
     │ Day 4: Polish                                        │
     │ - CSS 애니메이션                                     │
     │ - 반응형 디자인                                      │
     │ - 접근성 개선                                        │
     │                                                      │
     │ Day 5: Integration Testing                           │
     │ - E2E 사용자 플로우                                  │
     │ - 다양한 디바이스 테스트                             │
     │                                                      │
     │ Week 3: Production Hardening (5일)                   │
     │                                                      │
     │ Day 1-2: Monitoring & Logging                        │
     │ - Vercel Analytics                                   │
     │ - Devvit console logging                             │
     │ - Error tracking (Sentry?)                           │
     │ - Performance metrics                                │
     │                                                      │
     │ Day 3: Error Recovery                                │
     │ - Retry logic                                        │
     │ - Fallback mechanisms                                │
     │ - Timeout handling                                   │
     │ - User notifications                                 │
     │                                                      │
     │ Day 4-5: Load Testing                                │
     │ - 동시 접속 시뮬레이션                               │
     │ - Rate limiting                                      │
     │ - Cost projection                                    │
     │                                                      │
     │ Week 4: Launch (5일)                                 │
     │                                                      │
     │ Day 1-2: Beta Testing                                │
     │ - Internal testing                                   │
     │ - Small user group                                   │
     │ - Feedback collection                                │
     │                                                      │
     │ Day 3: Production Deploy                             │
     │ - Vercel production 배포                             │
     │ - Devvit app 업데이트                                │
     │ - DNS/환경변수 확인                                  │
     │                                                      │
     │ Day 4-5: Monitoring                                  │
     │ - 실시간 모니터링                                    │
     │ - 버그 수정                                          │
     │ - 성능 튜닝                                          │
     │                                                      │
     │ ---                                                  │
     │ PoC Acceptance Criteria                              │
     │                                                      │
     │ | Test          | Criterion           | Status    |  │
     │ |---------------|---------------------|-----------|  │
     │ | Timeout       | 120s+ execution     | ⏳ Pending |  │
     │ | Gemini API    | <10s per image      | ⏳ Pending |  │
     │ | Blob Upload   | <3s upload          | ⏳ Pending |  │
     │ | Webhook       | <1s delivery        | ⏳ Pending |  │
     │ | E2E           | <90s total          | ⏳ Pending |  │
     │ | Image Quality | Visually acceptable | ⏳ Pending |  │
     │ | Cost          | <$1 per case        | ⏳ Pending |  │
     │                                                      │
     │ GO Decision: All criteria ✅                          │
     │ NO-GO Decision: Any critical failure ❌               │
     │                                                      │
     │ ---                                                  │
     │ Contingency Plans                                    │
     │                                                      │
     │ If Gemini is slow (>10s/image):                      │
     │ → Use Gemini 2.0 Flash Lite                          │
     │ → Reduce resolution to 256x256                       │
     │ → Pre-generate in daily scheduler                    │
     │                                                      │
     │ If Vercel timeout:                                   │
     │ → Migrate to Cloudflare Workers (longer timeout)     │
     │ → Split into multiple functions                      │
     │                                                      │
     │ If Blob upload fails:                                │
     │ → Switch to Cloudinary                               │
     │ → Use S3 with CloudFront                             │
     │                                                      │
     │ If webhook unreliable:                               │
     │ → Implement polling from Devvit                      │
     │ → Add retry queue                                    │
     │                                                      │
     │ ---                                                  │
     │ Success Metrics                                      │
     │                                                      │
     │ Post-Launch Metrics:                                 │
     │ - ⏱️ Avg post creation time: <5s                     │
     │ - 🎨 Avg image generation time: <70s                 │
     │ - ✅ Success rate: >95%                               │
     │ - 💰 Cost per case: <$0.60                           │
     │ - 😊 User satisfaction: >4.5/5                       │
     │                                                      │
     │ ---                                                  │
     │ Ready to start PoC validation?                       │