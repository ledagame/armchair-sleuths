# Magic MCP ë§ˆì´ê·¸ë ˆì´ì…˜ ì•„í‚¤í…ì²˜ ì„¤ê³„

**ì‘ì„±ì¼**: 2025-10-27
**ì‘ì„±ì**: Frontend Architect Agent
**ëª©ì **: Armchair Sleuths WebViewë¥¼ Magic MCP ê¸°ë°˜ìœ¼ë¡œ ì™„ì „íˆ ì¬êµ¬ì¶•í•˜ê¸° ìœ„í•œ ì•„í‚¤í…ì²˜ ì„¤ê³„

---

## ğŸ“ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Devvit App (main.tsx)                   â”‚
â”‚                   Minimal Wrapper + Router                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                WebView (React 19 + Magic MCP)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Magic MCP Components                    â”‚    â”‚
â”‚  â”‚  â€¢ skeleton.tsx  â€¢ card.tsx   â€¢ button.tsx         â”‚    â”‚
â”‚  â”‚  â€¢ chat.tsx      â€¢ form.tsx   â€¢ modal.tsx          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Game Screens                           â”‚    â”‚
â”‚  â”‚  â€¢ CinematicIntro.tsx                              â”‚    â”‚
â”‚  â”‚  â€¢ SuspectInterrogation.tsx                        â”‚    â”‚
â”‚  â”‚  â€¢ EvidenceAnalysis.tsx                            â”‚    â”‚
â”‚  â”‚  â€¢ SubmissionForm.tsx                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Express Server (src/server/)                    â”‚
â”‚  â€¢ Case generation endpoints                                â”‚
â”‚  â€¢ Suspect dialogue (Gemini API)                            â”‚
â”‚  â€¢ State management                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Redis KV Store                            â”‚
â”‚  â€¢ Game state persistence                                   â”‚
â”‚  â€¢ Player progress tracking                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  External Services                           â”‚
â”‚  â€¢ Gemini API (suspect AI)                                  â”‚
â”‚  â€¢ Vercel Image Function (case images)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ íŒŒì¼ êµ¬ì¡°

```
armchair-sleuths/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.tsx                          # Minimal Devvit wrapper
â”‚   â”‚
â”‚   â”œâ”€â”€ client/                           # WebView (React + Magic MCP)
â”‚   â”‚   â”œâ”€â”€ index.html                    # Entry point
â”‚   â”‚   â”œâ”€â”€ main.tsx                      # React root
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ magic/                    # Magic MCP ìƒì„± ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ skeleton.tsx          # ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx              # Noir ìŠ¤íƒ€ì¼ ì¹´ë“œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx            # Primary/Secondary ë²„íŠ¼
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat.tsx              # ëŒ€í™”í˜• ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ form.tsx              # í¼ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ modal.tsx             # ëª¨ë‹¬ ë‹¤ì´ì–¼ë¡œê·¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ badge.tsx             # ìƒíƒœ ë±ƒì§€
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ progress.tsx          # ì§„í–‰ë¥  ë°”
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ game/                     # ê²Œì„ í™”ë©´ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingScreen.tsx     # ì¼€ì´ìŠ¤ ë¡œë”©
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CinematicIntro.tsx    # ì‹œë„¤ë§ˆí‹± ì¸íŠ¸ë¡œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CaseOverview.tsx      # ì‚¬ê±´ ê°œìš”
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ InvestigationScreen.tsx  # ìˆ˜ì‚¬ ë©”ì¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LocationExplorer.tsx  # ì¥ì†Œ íƒìƒ‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SuspectInterrogation.tsx  # ìš©ì˜ì ì‹¬ë¬¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EvidenceAnalysis.tsx  # ì¦ê±° ë¶„ì„
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SubmissionForm.tsx    # ì¶”ë¦¬ ì œì¶œ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ResultsView.tsx       # ê²°ê³¼ í™”ë©´
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ layout/
â”‚   â”‚   â”‚       â”œâ”€â”€ Header.tsx            # ì•± í—¤ë”
â”‚   â”‚   â”‚       â”œâ”€â”€ Navigation.tsx        # ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”‚   â”‚       â””â”€â”€ Footer.tsx            # ì•± í‘¸í„°
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useDevvitContext.ts       # Devvit í†µì‹  í›…
â”‚   â”‚   â”‚   â”œâ”€â”€ useGameState.ts           # ê²Œì„ ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ useAnimation.ts           # Framer Motion í—¬í¼
â”‚   â”‚   â”‚   â””â”€â”€ useResponsive.ts          # ë°˜ì‘í˜• ë””ìì¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts                    # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts                  # TypeScript íƒ€ì…
â”‚   â”‚   â”‚   â””â”€â”€ constants.ts              # ìƒìˆ˜ ì •ì˜
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚       â”œâ”€â”€ globals.css               # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚   â”‚       â””â”€â”€ tailwind.config.ts        # Tailwind ì„¤ì •
â”‚   â”‚
â”‚   â””â”€â”€ server/                           # Express Server (ê¸°ì¡´ ìœ ì§€)
â”‚       â”œâ”€â”€ index.ts
â”‚       â””â”€â”€ routes/
â”‚
â”œâ”€â”€ devvit.json                           # Devvit ì„¤ì • (WebView í™œì„±í™”ë¨)
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts                        # Vite ì„¤ì • (ì•„ë˜ ì°¸ì¡°)
â””â”€â”€ tailwind.config.ts                    # Tailwind ì„¤ì • (ì•„ë˜ ì°¸ì¡°)
```

---

## ğŸ¨ í™”ë©´ë³„ Magic MCP ì»´í¬ë„ŒíŠ¸ ë§¤í•‘

### 1. LoadingScreen (ë¡œë”© í™”ë©´)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Skeleton />` - ì¼€ì´ìŠ¤ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜
- `<Card />` - ë¡œë”© ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆ
- `<Progress />` - ì§„í–‰ë¥  ë°”

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- Noir í…Œë§ˆ ë°°ê²½ (deepBlack #0a0a0a)
- Gold ìƒ‰ìƒ ìŠ¤ì¼ˆë ˆí†¤ ì• ë‹ˆë©”ì´ì…˜
- ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œì¸ íš¨ê³¼

### 2. CinematicIntro (ì‹œë„¤ë§ˆí‹± ì¸íŠ¸ë¡œ)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Card />` - ë©”ì¸ ì¸íŠ¸ë¡œ ì»¨í…Œì´ë„ˆ
- `<Button />` - "ìˆ˜ì‚¬ ì‹œì‘" ë²„íŠ¼
- `<Modal />` - íŠœí† ë¦¬ì–¼ ì˜¤ë²„ë ˆì´ (ì„ íƒì )

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- í’€ìŠ¤í¬ë¦° ì‹œë„¤ë§ˆí‹± ë ˆì´ì•„ì›ƒ
- íƒ€ì´í•‘ íš¨ê³¼ë¡œ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜
- Framer Motion í˜ì´ì§€ ì „í™˜

### 3. CaseOverview (ì‚¬ê±´ ê°œìš”)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Card />` - í”¼í•´ì/ë¬´ê¸°/ì¥ì†Œ ì •ë³´ ì¹´ë“œ
- `<Badge />` - ë‚ ì§œ, ì‹œê°„ ë±ƒì§€
- `<Button />` - "ìˆ˜ì‚¬ ì‹œì‘" CTA

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- 3ì—´ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ (ë°˜ì‘í˜•)
- ì¹´ë“œ í˜¸ë²„ íš¨ê³¼
- ì •ë³´ ê³„ì¸µ êµ¬ì¡° ëª…í™•í™”

### 4. InvestigationScreen (ìˆ˜ì‚¬ í™”ë©´)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Card />` - íƒ­ ì»¨í…Œì´ë„ˆ
- `<Button />` - íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (ì¥ì†Œ/ìš©ì˜ì/ì¦ê±°)
- `<Badge />` - ì§„í–‰ ìƒíƒœ í‘œì‹œ

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- íƒ­ ê¸°ë°˜ ë„¤ë¹„ê²Œì´ì…˜
- ì„ íƒëœ íƒ­ ê°•ì¡° (gold underline)
- ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜ ì§€ì› (ëª¨ë°”ì¼)

### 5. LocationExplorer (ì¥ì†Œ íƒìƒ‰)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Card />` - ì¥ì†Œ ìƒì„¸ ì •ë³´
- `<Button />` - "ì¦ê±° ë°œê²¬" ì¸í„°ë™ì…˜
- `<Modal />` - ì¦ê±° ë°œê²¬ íŒì—…

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ ë ˆì´ì•„ì›ƒ
- í´ë¦­ ê°€ëŠ¥í•œ ì¦ê±° í•«ìŠ¤íŒŸ
- ë°œê²¬ ì• ë‹ˆë©”ì´ì…˜ (Framer Motion)

### 6. SuspectInterrogation (ìš©ì˜ì ì‹¬ë¬¸)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Chat />` - ëŒ€í™”í˜• ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
- `<Card />` - ìš©ì˜ì í”„ë¡œí•„ ì¹´ë“œ
- `<Badge />` - ê°ì • ìƒíƒœ í‘œì‹œ

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- ì‹¤ì‹œê°„ ì±„íŒ… UI
- íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°
- ê°ì • ìƒíƒœ ì‹œê°í™” (ìƒ‰ìƒ ë³€í™”)

### 7. EvidenceAnalysis (ì¦ê±° ë¶„ì„)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Card />` - ì¦ê±° ì•„ì´í…œ ì¹´ë“œ
- `<Modal />` - ì¦ê±° ìƒì„¸ ë·°
- `<Badge />` - ì¦ê±° íƒ€ì… ë¶„ë¥˜

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
- í•„í„°ë§/ì •ë ¬ ê¸°ëŠ¥
- í™•ëŒ€ ì´ë¯¸ì§€ ë·°

### 8. SubmissionForm (ì¶”ë¦¬ ì œì¶œ)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Form />` - ë²”ì¸/ë™ê¸°/ì¦ê±° ì„ íƒ í¼
- `<Button />` - "ì œì¶œí•˜ê¸°" CTA
- `<Modal />` - í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- 3ë‹¨ê³„ í¼ (ë²”ì¸ â†’ ë™ê¸° â†’ ì¦ê±°)
- ìœ íš¨ì„± ê²€ì‚¬ ë° ì—ëŸ¬ ë©”ì‹œì§€
- ì œì¶œ ì „ í™•ì¸ ë‹¨ê³„

### 9. ResultsView (ê²°ê³¼ í™”ë©´)
**Magic MCP ì»´í¬ë„ŒíŠ¸:**
- `<Card />` - ì •ë‹µ/ì˜¤ë‹µ ê²°ê³¼ ì¹´ë“œ
- `<Button />` - "ê³µìœ í•˜ê¸°", "ë‹¤ì‹œ ë„ì „" ë²„íŠ¼
- `<Progress />` - ì ìˆ˜ ì• ë‹ˆë©”ì´ì…˜

**ë””ìì¸ ìš”êµ¬ì‚¬í•­:**
- ì„±ê³µ/ì‹¤íŒ¨ ì• ë‹ˆë©”ì´ì…˜
- ìƒì„¸ í•´ì„¤ ì„¹ì…˜
- ì†Œì…œ ê³µìœ  ê¸°ëŠ¥

---

## âš™ï¸ Vite ì„¤ì •

```typescript
// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [
    react({
      jsxRuntime: 'automatic',
      babel: {
        plugins: [
          // Framer Motion ìµœì í™”
          ['babel-plugin-transform-remove-console', { exclude: ['error', 'warn'] }]
        ]
      }
    })
  ],

  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src/client'),
      '@magic': path.resolve(__dirname, './src/client/components/magic'),
      '@game': path.resolve(__dirname, './src/client/components/game'),
      '@hooks': path.resolve(__dirname, './src/client/hooks'),
      '@utils': path.resolve(__dirname, './src/client/utils'),
    },
  },

  build: {
    outDir: 'dist/client',
    sourcemap: false,  // í”„ë¡œë•ì…˜ì—ì„œ ì†ŒìŠ¤ë§µ ì œê±°
    minify: 'terser',
    terserOptions: {
      compress: {
        drop_console: true,  // console.log ì œê±°
        drop_debugger: true,
      },
    },

    // ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ì „ëµ (Devvit 5MB ì œí•œ ì¤€ìˆ˜)
    rollupOptions: {
      output: {
        manualChunks: {
          // Magic MCP ì»´í¬ë„ŒíŠ¸ ì²­í¬
          'magic-ui': [
            './src/client/components/magic/card.tsx',
            './src/client/components/magic/button.tsx',
            './src/client/components/magic/form.tsx',
            './src/client/components/magic/modal.tsx',
          ],

          // ê²Œì„ í™”ë©´ ì²­í¬
          'game-screens': [
            './src/client/components/game/CinematicIntro.tsx',
            './src/client/components/game/SuspectInterrogation.tsx',
            './src/client/components/game/EvidenceAnalysis.tsx',
          ],

          // ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
          'motion': ['framer-motion'],

          // React ë²¤ë”
          'vendor': ['react', 'react-dom'],
        },
      },
    },

    // ì²­í¬ í¬ê¸° ê²½ê³  ì„ê³„ê°’
    chunkSizeWarningLimit: 1000,  // 1MB
  },

  // ê°œë°œ ì„œë²„ ì„¤ì •
  server: {
    port: 5173,
    strictPort: true,
    hmr: {
      overlay: true,
    },
  },

  // ìµœì í™” ì„¤ì •
  optimizeDeps: {
    include: ['react', 'react-dom', 'framer-motion'],
  },
});
```

---

## ğŸ¨ Tailwind CSS ì„¤ì •

```typescript
// tailwind.config.ts
import type { Config } from 'tailwindcss';

export default {
  content: [
    './src/client/**/*.{js,jsx,ts,tsx}',
    './src/client/index.html',
  ],

  theme: {
    extend: {
      // Noir Detective í…Œë§ˆ ìƒ‰ìƒ
      colors: {
        noir: {
          'deep-black': '#0a0a0a',
          'charcoal': '#1a1a1a',
          'dark-gray': '#2a2a2a',
          'light-gray': '#e5e5e5',
        },
        detective: {
          'gold': '#c9b037',
          'burnished': '#a89030',
          'faded': '#8a7525',
        },
        functional: {
          'danger': '#c93737',
          'success': '#37c97d',
          'warning': '#c9a037',
          'info': '#3777c9',
        },
      },

      // íƒ€ì´í¬ê·¸ë˜í”¼
      fontFamily: {
        'display': ['Playfair Display', 'serif'],  // í—¤ë“œë¼ì¸
        'body': ['Inter', 'sans-serif'],            // ë³¸ë¬¸
        'mono': ['Courier New', 'monospace'],       // ì½”ë“œ
      },

      // ê°„ê²© ì‹œìŠ¤í…œ
      spacing: {
        '18': '4.5rem',
        '88': '22rem',
      },

      // ì• ë‹ˆë©”ì´ì…˜
      animation: {
        'fade-in': 'fadeIn 0.3s ease-in',
        'slide-up': 'slideUp 0.4s ease-out',
        'pulse-gold': 'pulseGold 2s infinite',
      },

      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { transform: 'translateY(20px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
        pulseGold: {
          '0%, 100%': { opacity: '1' },
          '50%': { opacity: '0.6' },
        },
      },
    },
  },

  plugins: [
    require('@tailwindcss/forms'),        // í¼ ìŠ¤íƒ€ì¼ë§
    require('@tailwindcss/typography'),    // íƒ€ì´í¬ê·¸ë˜í”¼
    require('@tailwindcss/aspect-ratio'),  // ì´ë¯¸ì§€ ë¹„ìœ¨
  ],
} satisfies Config;
```

---

## ğŸš€ 6ë‹¨ê³„ ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œë“œë§µ

### Phase 1: ê¸°ë°˜ êµ¬ì¶• (1ì£¼ì°¨)
**ìš°ì„ ìˆœìœ„: ìµœê³ **

- [ ] **Step 1.1**: Vite + React í”„ë¡œì íŠ¸ ì…‹ì—…
  - `src/client/` ë””ë ‰í† ë¦¬ ìƒì„±
  - Vite ì„¤ì • íŒŒì¼ ì‘ì„±
  - Tailwind CSS 4.1 ì„¤ì¹˜ ë° Noir í…Œë§ˆ ì„¤ì •
  - **ê²€ì¦**: `npm run build:client` ì„±ê³µ

- [ ] **Step 1.2**: Magic MCP ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ ìƒì„±
  - `components/magic/skeleton.tsx`
  - `components/magic/card.tsx`
  - `components/magic/button.tsx`
  - **ê²€ì¦**: Storybook ë˜ëŠ” í…ŒìŠ¤íŠ¸ í˜ì´ì§€ì—ì„œ ë Œë”ë§ í™•ì¸

- [ ] **Step 1.3**: Devvit â†” WebView í†µì‹  ê²€ì¦
  - `useDevvitContext.ts` í›… êµ¬í˜„
  - ê°„ë‹¨í•œ ë°ì´í„° ì „ì†¡ í…ŒìŠ¤íŠ¸
  - **ê²€ì¦**: Devvitì—ì„œ WebViewë¡œ ë°ì´í„° ì „ë‹¬ í™•ì¸

### Phase 2: í•µì‹¬ í™”ë©´ êµ¬í˜„ (2ì£¼ì°¨)
**ìš°ì„ ìˆœìœ„: ë†’ìŒ**

- [ ] **Step 2.1**: LoadingScreen (Magic MCP Skeleton)
  - ìŠ¤ì¼ˆë ˆí†¤ ì• ë‹ˆë©”ì´ì…˜
  - ë¡œë”© ìƒíƒœ ê´€ë¦¬
  - **ê²€ì¦**: ì¼€ì´ìŠ¤ ë°ì´í„° ë¡œë”© ì‹œ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜

- [ ] **Step 2.2**: CinematicIntro (Magic MCP Card + Button)
  - í’€ìŠ¤í¬ë¦° ì‹œë„¤ë§ˆí‹± ë ˆì´ì•„ì›ƒ
  - íƒ€ì´í•‘ íš¨ê³¼ ì• ë‹ˆë©”ì´ì…˜
  - Framer Motion í˜ì´ì§€ ì „í™˜
  - **ê²€ì¦**: ì¸íŠ¸ë¡œ â†’ ì‚¬ê±´ ê°œìš” ì „í™˜ ìì—°ìŠ¤ëŸ¬ì›€

- [ ] **Step 2.3**: CaseOverview (Magic MCP Card)
  - í”¼í•´ì/ë¬´ê¸°/ì¥ì†Œ ì¹´ë“œ ë ˆì´ì•„ì›ƒ
  - ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ
  - **ê²€ì¦**: ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ëª¨ë‘ ì •ìƒ í‘œì‹œ

- [ ] **Step 2.4**: InvestigationScreen íƒ­ ë„¤ë¹„ê²Œì´ì…˜
  - ì¥ì†Œ/ìš©ì˜ì/ì¦ê±° íƒ­
  - ì„ íƒëœ íƒ­ ê°•ì¡° íš¨ê³¼
  - **ê²€ì¦**: íƒ­ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ ë¶€ë“œëŸ¬ì›€

### Phase 3: ì¸í„°ë™ì…˜ í™”ë©´ êµ¬í˜„ (3ì£¼ì°¨)
**ìš°ì„ ìˆœìœ„: ë†’ìŒ**

- [ ] **Step 3.1**: LocationExplorer (Magic MCP Card + Modal)
  - ì¥ì†Œ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬
  - ì¦ê±° ë°œê²¬ ì¸í„°ë™ì…˜
  - ëª¨ë‹¬ íŒì—… ì• ë‹ˆë©”ì´ì…˜
  - **ê²€ì¦**: ì¦ê±° ë°œê²¬ ì‹œ ë§Œì¡±ìŠ¤ëŸ¬ìš´ í”¼ë“œë°±

- [ ] **Step 3.2**: SuspectInterrogation (Magic MCP Chat)
  - ì‹¤ì‹œê°„ ì±„íŒ… UI
  - íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„°
  - ê°ì • ìƒíƒœ ì‹œê°í™”
  - Gemini API í†µí•©
  - **ê²€ì¦**: ëŒ€í™” íë¦„ ìì—°ìŠ¤ëŸ½ê³  ëª°ì…ê° ìˆìŒ

- [ ] **Step 3.3**: EvidenceAnalysis (Magic MCP Card)
  - ì¦ê±° ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
  - í•„í„°ë§/ì •ë ¬ ê¸°ëŠ¥
  - ìƒì„¸ ëª¨ë‹¬ ë·°
  - **ê²€ì¦**: ì¦ê±° íƒìƒ‰ì´ ì§ê´€ì 

### Phase 4: ì œì¶œ ë° ê²°ê³¼ (4ì£¼ì°¨)
**ìš°ì„ ìˆœìœ„: ì¤‘ê°„**

- [ ] **Step 4.1**: SubmissionForm (Magic MCP Form)
  - ë²”ì¸/ë™ê¸°/ì¦ê±° ì„ íƒ í¼
  - ìœ íš¨ì„± ê²€ì‚¬
  - í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
  - **ê²€ì¦**: ì œì¶œ í”„ë¡œì„¸ìŠ¤ê°€ ëª…í™•í•˜ê³  ì˜¤ë¥˜ ì—†ìŒ

- [ ] **Step 4.2**: ResultsView (Magic MCP Card + Progress)
  - ì„±ê³µ/ì‹¤íŒ¨ ì• ë‹ˆë©”ì´ì…˜
  - ì ìˆ˜ ë° ìƒì„¸ í•´ì„¤
  - ì†Œì…œ ê³µìœ  ë²„íŠ¼
  - **ê²€ì¦**: ê²°ê³¼ í”¼ë“œë°±ì´ ë§Œì¡±ìŠ¤ëŸ¬ì›€

### Phase 5: ìµœì í™” ë° í´ë¦¬ì‹± (5ì£¼ì°¨)
**ìš°ì„ ìˆœìœ„: ì¤‘ê°„**

- [ ] **Step 5.1**: ì„±ëŠ¥ ìµœì í™”
  - ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ê²€ì¦
  - ë²ˆë“¤ í¬ê¸° 5MB ì´í•˜ í™•ì¸
  - Lighthouse ì ìˆ˜ ì¸¡ì •
  - **ëª©í‘œ**: FCP < 1.5s, LCP < 2.5s, TTI < 3.0s

- [ ] **Step 5.2**: ì ‘ê·¼ì„± ê°œì„ 
  - í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
  - ìŠ¤í¬ë¦° ë¦¬ë” í…ŒìŠ¤íŠ¸
  - WCAG 2.1 AA ì¤€ìˆ˜
  - **ê²€ì¦**: axe DevTools 0 ì—ëŸ¬

- [ ] **Step 5.3**: ì• ë‹ˆë©”ì´ì…˜ í´ë¦¬ì‹±
  - í˜ì´ì§€ ì „í™˜ íƒ€ì´ë° ì¡°ì •
  - ì¸í„°ë™ì…˜ í”¼ë“œë°± ê°œì„ 
  - ëª¨ì…˜ ë¯¼ê°ë„ ì˜µì…˜ ì¶”ê°€
  - **ê²€ì¦**: ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ê¸ì • í”¼ë“œë°± 80%+

### Phase 6: í”„ë¡œë•ì…˜ ë°°í¬ (6ì£¼ì°¨)
**ìš°ì„ ìˆœìœ„: ìµœê³ **

- [ ] **Step 6.1**: í”„ë¡œë•ì…˜ ë¹Œë“œ í…ŒìŠ¤íŠ¸
  - ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ê²€ì¦
  - ì—ëŸ¬ ì¶”ì  ì„¤ì • (Sentry ë“±)
  - **ê²€ì¦**: í”„ë¡œë•ì…˜ ë¹Œë“œ ì—ëŸ¬ ì—†ìŒ

- [ ] **Step 6.2**: Devvit í”Œë«í¼ ë°°í¬
  - `devvit upload` ì‹¤í–‰
  - Reddit ì»¤ë®¤ë‹ˆí‹° í…ŒìŠ¤íŠ¸ ë°°í¬
  - **ê²€ì¦**: ì‹¤ì œ Reddit í™˜ê²½ì—ì„œ ì •ìƒ ì‘ë™

- [ ] **Step 6.3**: ëª¨ë‹ˆí„°ë§ ë° í”¼ë“œë°± ìˆ˜ì§‘
  - ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ì„¤ì •
  - ë²„ê·¸ ë¦¬í¬íŠ¸ ëª¨ë‹ˆí„°ë§
  - **ê²€ì¦**: 24ì‹œê°„ ì•ˆì •ì  ìš´ì˜

---

## ğŸ“Š ì„±ëŠ¥ ëª©í‘œ

### ë²ˆë“¤ í¬ê¸° ì œí•œ
- **ì´ ë²ˆë“¤ í¬ê¸°**: < 5MB (Devvit ì œí•œ)
- **ì´ˆê¸° ë¡œë”© ì²­í¬**: < 1MB
- **Magic MCP ì»´í¬ë„ŒíŠ¸ ì²­í¬**: < 500KB
- **ê²Œì„ í™”ë©´ ì²­í¬**: < 800KB
- **ë²¤ë” ì²­í¬ (React + Framer Motion)**: < 400KB

### ë¡œë”© ì„±ëŠ¥ (Lighthouse ê¸°ì¤€)
- **First Contentful Paint (FCP)**: < 1.5ì´ˆ
- **Largest Contentful Paint (LCP)**: < 2.5ì´ˆ
- **Time to Interactive (TTI)**: < 3.0ì´ˆ
- **Total Blocking Time (TBT)**: < 300ms
- **Cumulative Layout Shift (CLS)**: < 0.1

### ëŸ°íƒ€ì„ ì„±ëŠ¥
- **í”„ë ˆì„ë¥ **: 60fps ìœ ì§€
- **ì• ë‹ˆë©”ì´ì…˜ ì§€ì—°**: < 16ms
- **API ì‘ë‹µ ì‹œê°„**: < 500ms (p95)
- **ì±„íŒ… ë©”ì‹œì§€ ì§€ì—°**: < 200ms

---

## âš ï¸ ë¦¬ìŠ¤í¬ ê´€ë¦¬

### ë¦¬ìŠ¤í¬ 1: ë²ˆë“¤ í¬ê¸° ì´ˆê³¼ (5MB ì œí•œ)
**ë°œìƒ í™•ë¥ **: ì¤‘ê°„
**ì˜í–¥ë„**: ë†’ìŒ
**ì™„í™” ì „ëµ**:
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ê°•ì œ ì ìš©
- Tree shaking ìµœì í™”
- ì´ë¯¸ì§€ WebP í¬ë§· ì‚¬ìš©
- ë¶ˆí•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê±°

### ë¦¬ìŠ¤í¬ 2: Magic MCP ìƒì„± í’ˆì§ˆ
**ë°œìƒ í™•ë¥ **: ë‚®ìŒ
**ì˜í–¥ë„**: ì¤‘ê°„
**ì™„í™” ì „ëµ**:
- ëª…í™•í•œ í”„ë¡¬í”„íŠ¸ ì‘ì„±
- ìƒì„± í›„ ìˆ˜ë™ ê²€í†  ë° ì¡°ì •
- ë””ìì¸ ì‹œìŠ¤í…œ ê°€ì´ë“œ ì œê³µ

### ë¦¬ìŠ¤í¬ 3: Devvit WebView í˜¸í™˜ì„±
**ë°œìƒ í™•ë¥ **: ë‚®ìŒ
**ì˜í–¥ë„**: ë†’ìŒ
**ì™„í™” ì „ëµ**:
- Phase 1ì—ì„œ ì¡°ê¸° ê²€ì¦
- Devvit ê³µì‹ ë¬¸ì„œ ì¤€ìˆ˜
- ì»¤ë®¤ë‹ˆí‹° ì‚¬ë¡€ ì°¸ê³ 

### ë¦¬ìŠ¤í¬ 4: ì„±ëŠ¥ ì €í•˜
**ë°œìƒ í™•ë¥ **: ì¤‘ê°„
**ì˜í–¥ë„**: ì¤‘ê°„
**ì™„í™” ì „ëµ**:
- ì •ê¸°ì ì¸ Lighthouse ì¸¡ì •
- í”„ë¡œíŒŒì¼ë§ ë„êµ¬ ì‚¬ìš©
- lazy loading ì ê·¹ í™œìš©

---

## âœ… ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê¸°ìˆ ì  ê²€ì¦
- [ ] TypeScript íƒ€ì… ì—ëŸ¬ 0ê°œ
- [ ] ESLint ê²½ê³  0ê°œ
- [ ] í”„ë¡œë•ì…˜ ë¹Œë“œ ì„±ê³µ
- [ ] ë²ˆë“¤ í¬ê¸° < 5MB
- [ ] Lighthouse ì„±ëŠ¥ ì ìˆ˜ > 90

### UX ê²€ì¦
- [ ] ëª¨ë“  í™”ë©´ ë°˜ì‘í˜• ë™ì‘
- [ ] ì• ë‹ˆë©”ì´ì…˜ ë¶€ë“œëŸ¬ì›€ (60fps)
- [ ] ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ë§Œì¡±ë„ 80%+

### í†µí•© ê²€ì¦
- [ ] Devvit â†” WebView í†µì‹  ì •ìƒ
- [ ] Express Server API ì—°ë™ ì •ìƒ
- [ ] Gemini API ëŒ€í™” ìƒì„± ì •ìƒ
- [ ] Redis ìƒíƒœ ì €ì¥/ë¡œë“œ ì •ìƒ

---

## ğŸ“š ì°¸ê³  ìë£Œ

- **Magic MCP ë¬¸ì„œ**: https://21st.dev/docs
- **Devvit ê³µì‹ ë¬¸ì„œ**: https://developers.reddit.com/docs
- **Framer Motion**: https://www.framer.com/motion/
- **Tailwind CSS**: https://tailwindcss.com/docs
- **React 19**: https://react.dev/

---

**ë‹¤ìŒ ë‹¨ê³„**: UX ì „ëµ ë¬¸ì„œë¥¼ ê²€í† í•˜ê³  Phase 1 êµ¬í˜„ì„ ì‹œì‘í•˜ì„¸ìš”.
