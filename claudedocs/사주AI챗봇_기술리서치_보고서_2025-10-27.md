# ì‚¬ì£¼ ê¸°ë°˜ í‰ìƒ AI ìƒë‹´ ì±—ë´‡ ì›¹ì•± ê°œë°œì„ ìœ„í•œ ê¸°ìˆ  ë¦¬ì„œì¹˜ ë³´ê³ ì„œ

**ì‘ì„±ì¼:** 2025ë…„ 10ì›” 27ì¼
**ì—°êµ¬ ëª©ì :** ì‚¬ì£¼ ê¸°ë°˜ AI ìƒë‹´ ì±—ë´‡ ì›¹ì•± êµ¬ì¶•ì„ ìœ„í•œ ìµœì ì˜ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì§€ì‹ë² ì´ìŠ¤ êµ¬ì¶• ì „ëµ ì œì‹œ

---

## ğŸ“‹ Executive Summary (í•µì‹¬ ìš”ì•½)

### ğŸ¯ ì£¼ìš” ê²°ë¡ 

1. **ë§Œì„¸ë ¥/ì‚¬ì£¼ ì•Œê³ ë¦¬ì¦˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìµœì¢… ì¶”ì²œ**
   - **ì£¼ë ¥ ì„ íƒ:** `bazi-calculator-by-alvamind` (Node.js/npm)
   - **ë³´ì¡° ì„ íƒ:** `korean-lunar-calendar` (ìŒë ¥ ë³€í™˜)
   - **ì°¸ê³  ìë£Œ:** `wangta69/laravel-fortune` (í•œêµ­ì‹ ì‹­ì‹ /ì‹ ì‚´ ë¡œì§)

2. **AI ì±—ë´‡ ì§€ì‹ë² ì´ìŠ¤ êµ¬ì¶• ì „ëµ**
   - **í•µì‹¬ ì§€ì‹ ì†ŒìŠ¤:** í˜„ë¬˜ì˜ "ë‚˜ì˜ ì‚¬ì£¼ëª…ë¦¬" (ë¦¬ë””ë¶ìŠ¤ â‚©15,000)
   - **RAG ì•„í‚¤í…ì²˜:** Supabase Vector + OpenAI Embeddings + Claude 3.5 Sonnet
   - **ì‹¬ë¦¬ ìƒë‹´ ìœ¤ë¦¬:** ACA/NBCC ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜

3. **ê¶Œì¥ ê¸°ìˆ  ìŠ¤íƒ**
   ```
   í”„ë¡ íŠ¸ì—”ë“œ: Next.js 14 (App Router) + Tailwind CSS
   ë°±ì—”ë“œ: Next.js API Routes + Supabase
   ì‚¬ì£¼ ê³„ì‚°: bazi-calculator-by-alvamind (npm)
   ë²¡í„° DB: Supabase Vector (pgvector)
   LLM: Claude 3.5 Sonnet / GPT-4 Turbo
   ì„ë² ë”©: OpenAI text-embedding-3-small
   ```

4. **ì˜ˆìƒ ê°œë°œ ê¸°ê°„ & ë¹„ìš©**
   - MVP ê°œë°œ: 2ì£¼
   - ì´ˆê¸° íˆ¬ì: ~$100
   - ì›” ìš´ì˜ë¹„: $235-535 (1,000 DAU ê¸°ì¤€)

---

## 1. ì—°êµ¬ ë°°ê²½ ë° ëª©ì 

### 1.1 í”„ë¡œì íŠ¸ ê°œìš”

**ëª©í‘œ:** ë¬´ë£Œ ê³ í€„ë¦¬í‹° ì‚¬ì£¼ ë ˆí¬íŠ¸ ì œê³µ + í‰ìƒ AI ìƒë‹´ ì±—ë´‡ì„ ê²°í•©í•œ í˜ì‹ ì  ì›¹ì•± ê°œë°œ

**í•µì‹¬ ì°¨ë³„í™” ì „ëµ:**
- íƒ€ì‚¬ëŠ” ìœ ë£Œì¸ ì •í†µ ì‚¬ì£¼ ë ˆí¬íŠ¸ë¥¼ ë¬´ë£Œë¡œ ì œê³µ (ì§„ì…ì¥ë²½ ì œê±°)
- í˜„ë¬˜ì˜ ì‚¬ì£¼í’€ì´ë²• ê¸°ë°˜ ì‹ ë¢°ì„± í™•ë³´
- ì¼ìƒ ê³ ë¯¼ í•´ê²°ì— íŠ¹í™”ëœ AI ì±—ë´‡ (ì§€ì†ì  engagement)

**ê¸°ìˆ ì  ê³¼ì œ:**
1. ì •í™•í•œ ë§Œì„¸ë ¥/ì‚¬ì£¼íŒ”ì ê³„ì‚° ì•Œê³ ë¦¬ì¦˜ í™•ë³´
2. ì „ë¬¸ì ì¸ ì‚¬ì£¼ëª…ë¦¬í•™ ì§€ì‹ë² ì´ìŠ¤ êµ¬ì¶•
3. ì‹¬ë¦¬ ìƒë‹´ ìœ¤ë¦¬ ê¸°ì¤€ì„ ì¤€ìˆ˜í•˜ëŠ” AI ì±—ë´‡ ê°œë°œ

---

## 2. ë§Œì„¸ë ¥/ì‚¬ì£¼ ì•Œê³ ë¦¬ì¦˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶„ì„

### 2.1 ì¡°ì‚¬ ëŒ€ìƒ ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡

#### ğŸ“¦ JavaScript/TypeScript (Node.js)

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ë²„ì „ | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ | Stars | License |
|-----------|------|----------------|-------|---------|
| **bazi-calculator-by-alvamind** | 1.0.16 | 4ê°œì›” ì „ (2025.06) | N/A | MIT |
| **@kurone-kito/dantalion** | Latest | í™œë°œ | ì ìŒ | MIT |
| **korean-lunar-calendar** | Latest | í™œë°œ | ì¤‘ê°„ | MIT |

#### ğŸ˜ PHP (Laravel)

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ë²„ì „ | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ | Stars | License |
|-----------|------|----------------|-------|---------|
| **wangta69/laravel-fortune** | 7.7.8 | 2025.01 (ìµœì‹ ) | 1 | MIT |

#### ğŸ Python

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ | ì™„ì„±ë„ |
|-----------|------|--------|
| **korean_lunar_calendar_py** | ìŒë ¥â†”ì–‘ë ¥ ë³€í™˜ | ë†’ìŒ |
| **pylunardate** | ìŒë ¥ ê³„ì‚° | ì¤‘ê°„ |

### 2.2 ìƒì„¸ ë¹„êµ ë¶„ì„

#### âœ… bazi-calculator-by-alvamind (ìµœì¢… ì¶”ì²œ)

**GitHub:** https://github.com/alvamind/bazi-calculator-by-alvamind
**NPM:** `npm install bazi-calculator-by-alvamind`

**ì£¼ìš” ê¸°ëŠ¥:**
- âœ… ì‚¬ì£¼íŒ”ì (å¹´æœˆæ—¥æ™‚) ì •í™•í•œ ê³„ì‚°
- âœ… ì˜¤í–‰ (äº”è¡Œ) ë¶„ì„ ë° ê°•ì•½ íŒë‹¨
- âœ… ì‹­ì‹  (åç¥) ìë™ ê³„ì‚°
- âœ… íŒ”íƒ í’ìˆ˜ (å…«å®…) ê¸¸í‰ë°©ìœ„
- âœ… ê·€ì¸ì„±/ë¬¸ì°½ì„±/ì²œë§ˆì„±/ë„í™”ì„± íŒì •
- âœ… **íƒ€ì„ì¡´ ì¸ì‹ ì²˜ë¦¬** (IANA í‘œì¤€)
- âœ… ì–‘ë ¥/ìŒë ¥ ìë™ ë³€í™˜

**ì½”ë“œ ì˜ˆì œ:**
```javascript
import { BaziCalculator } from 'bazi-calculator-by-alvamind';

const calculator = new BaziCalculator();
const birthData = {
  year: 1990,
  month: 10,
  day: 15,
  hour: 14,
  minute: 30,
  timezone: 'Asia/Seoul',
  gender: 'male'
};

const bazi = calculator.calculate(birthData);
console.log(bazi.fourPillars); // ë…„ì£¼, ì›”ì£¼, ì¼ì£¼, ì‹œì£¼
console.log(bazi.tenGods); // ì‹­ì‹ 
console.log(bazi.elements); // ì˜¤í–‰ ë¶„ì„
console.log(bazi.dayMasterStrength); // ì¼ì£¼ ê°•ì•½
```

**ì¥ì :**
- Next.js 14ì™€ ì™„ë²½í•œ ë„¤ì´í‹°ë¸Œ í†µí•©
- TypeScript ì§€ì›ìœ¼ë¡œ íƒ€ì… ì•ˆì •ì„±
- MIT ë¼ì´ì„ ìŠ¤ (ìƒì—…ì  ì‚¬ìš© ììœ )
- npmìœ¼ë¡œ ì¦‰ì‹œ ì„¤ì¹˜ ê°€ëŠ¥ (`npm install`)
- ì§€ì†ì  ìœ ì§€ë³´ìˆ˜ (2025ë…„ 6ì›” ì—…ë°ì´íŠ¸)

**ë‹¨ì :**
- ì¤‘êµ­ì‹ ë°”ì§€(å…«å­—) ì¤‘ì‹¬ìœ¼ë¡œ í•œêµ­ì‹ í•´ì„ ë¡œì§ ë¶€ì¬
- í† ì •ë¹„ê²°, ìë¯¸ë‘ìˆ˜ ë“± ì¶”ê°€ ì ìˆ  ë¯¸ì§€ì›
- ì»¤ë®¤ë‹ˆí‹°ê°€ ì‘ì•„ ë ˆí¼ëŸ°ìŠ¤ ë¶€ì¡±

**í‰ê°€:** â­â­â­â­â­ (5/5)
â†’ Next.js í”„ë¡œì íŠ¸ì— ìµœì í™”ëœ ì„ íƒ

---

#### ğŸ”¶ wangta69/laravel-fortune (ì°¸ê³ ìš©)

**GitHub:** https://github.com/wangta69/laravel-fortune
**Packagist:** `composer require wangta69/laravel-fortune`

**ì£¼ìš” ê¸°ëŠ¥:**
- âœ… ì‚¬ì£¼íŒ”ì ì™„ì „ ë¶„ì„
- âœ… ì‹­ì‹ , ì‹ ì‚´, ëŒ€ìš´/ì„¸ìš´ ê³„ì‚°
- âœ… **í† ì •ë¹„ê²°** (í•œêµ­ ì „í†µ ì ìˆ )
- âœ… **ìë¯¸ë‘ìˆ˜** (ç´«å¾®æ–—æ•¸)
- âœ… **ì£¼ì—­** (å‘¨æ˜“) 64ê´˜
- âœ… **ìœ¡ì„ì •ë‹¨** (å…­å£¬æ­£æ–·)
- âœ… ë§Œì„¸ë ¥ ìƒì„±
- âœ… íƒì¼ (æ“‡æ—¥) ê¸°ëŠ¥

**ì¥ì :**
- ê°€ì¥ ì™„ì „í•œ ê¸°ëŠ¥ ì„¸íŠ¸ (í† ì •ë¹„ê²°, ìë¯¸ë‘ìˆ˜ê¹Œì§€)
- í•œêµ­ì‹ ëª…ë¦¬í•™ ë¡œì§ í¬í•¨
- 2025ë…„ 1ì›”ê¹Œì§€ í™œë°œí•œ ìœ ì§€ë³´ìˆ˜

**ë‹¨ì :**
- **PHP/Laravel ì „ìš©** â†’ Next.jsì™€ ì´ì§ˆì 
- **ë°ì´í„°ë² ì´ìŠ¤ ë³„ë„ ë¼ì´ì„ ìŠ¤ í•„ìš”** (ì¦‰ì‹œ ì‚¬ìš© ë¶ˆê°€)
- ì»¤ë®¤ë‹ˆí‹° ë§¤ìš° ì‘ìŒ (1 star, 0 forks)
- API ì„œë²„ ë¶„ë¦¬ í•„ìš” â†’ ì•„í‚¤í…ì²˜ ë³µì¡ë„ ì¦ê°€
- 1ì¸ ê°œë°œì ì˜ì¡´ì„± ë¦¬ìŠ¤í¬

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:**
```php
use Pondol\Fortune\Facades\Saju;

$saju = Saju::ymdhi('198010101330')
    ->sl('solar')
    ->gender('male')
    ->leap(false)
    ->create();
```

**í‰ê°€:** â­â­â­ (3/5)
â†’ ê¸°ëŠ¥ì€ ìµœê³ ì§€ë§Œ ê¸°ìˆ  ìŠ¤íƒ ë¯¸ìŠ¤ë§¤ì¹˜

**í™œìš© ë°©ì•ˆ:**
- í•œêµ­ì‹ ì‹­ì‹ /ì‹ ì‚´ ê³„ì‚° ë¡œì§ ì°¸ê³ ìš©ìœ¼ë¡œ í™œìš©
- í† ì •ë¹„ê²° ë“± ì¶”ê°€ ê¸°ëŠ¥ì€ Phase 2 í™•ì¥ ì‹œ ê³ ë ¤

---

#### ğŸ”· @kurone-kito/dantalion

**NPM:** `npm install @kurone-kito/dantalion-core`

**ì£¼ìš” ê¸°ëŠ¥:**
- ìƒë…„ì›”ì¼ ê¸°ë°˜ ì„±ê²© ë¶„ì„
- ì‚¬ì£¼ëª…ë¦¬í•™ ê¸°ë°˜ ë™ë¬¼/ì‹ë¬¼ ìºë¦­í„° ë§¤ì¹­
- ë‹¤êµ­ì–´ ì§€ì› (i18n)

**í‰ê°€:** â­â­â­ (3/5)
â†’ ì—”í„°í…Œì¸ë¨¼íŠ¸ ì„±ê²© ì§„ë‹¨ì— ì í•©, ì •í†µ ì‚¬ì£¼ ë¶€ì¡±

---

#### ğŸŒ™ korean-lunar-calendar (í•„ìˆ˜ ë³´ì¡°)

**PyPI:** `pip install korean-lunar-calendar`
**NPM:** `npm install korean-lunar-calendar`

**í•µì‹¬ ê¸°ëŠ¥:**
- í•œêµ­ ì²œë¬¸ì—°êµ¬ì›(KARI) í‘œì¤€ ì¤€ìˆ˜
- ì–‘ë ¥ â†” ìŒë ¥ ì •í™•í•œ ë³€í™˜
- ê°„ì§€(å¹²æ”¯) ê³„ì‚°
- 1000ë…„~2050ë…„ ì§€ì›

**ì½”ë“œ ì˜ˆì œ:**
```javascript
import { Lunar } from 'korean-lunar-calendar';

const lunar = new Lunar();
lunar.setSolarDate(1990, 10, 15);
const lunarDate = lunar.getLunarDate();
console.log(lunarDate); // { year: 1990, month: 8, day: 27, isLeap: false }
```

**í‰ê°€:** â­â­â­â­â­ (5/5)
â†’ ìŒë ¥ ë³€í™˜ì˜ ì •í™•ì„±ì´ ì‚¬ì£¼ ê³„ì‚°ì˜ í•µì‹¬

---

### 2.3 ìµœì¢… ì¶”ì²œ ë° ê·¼ê±°

#### ğŸ† ì¶”ì²œ ì¡°í•©: bazi-calculator-by-alvamind + korean-lunar-calendar

**ì„ íƒ ì´ìœ :**

1. **ê¸°ìˆ  ìŠ¤íƒ ì™„ë²½ ì¼ì¹˜**
   - Next.js 14 ë„¤ì´í‹°ë¸Œ í†µí•©
   - TypeScript íƒ€ì… ì•ˆì •ì„±
   - npm íŒ¨í‚¤ì§€ ê´€ë¦¬

2. **ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥**
   - ë³„ë„ ë°±ì—”ë“œ ì„œë²„ ë¶ˆí•„ìš”
   - ë¼ì´ì„ ìŠ¤ ë¬¸ì œ ì—†ìŒ (MIT)
   - ì„¤ì¹˜ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥

3. **í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜**
   - í•œêµ­ì‹ ì‹­ì‹ /ì‹ ì‚´ ë¡œì§ ì¶”ê°€ êµ¬í˜„ ê°€ëŠ¥
   - wangta69 ì½”ë“œ ì°¸ê³ í•˜ì—¬ ë³´ì™„

4. **íƒ€ì„ì¡´ ì •í™•ë„**
   - í•œêµ­ í‘œì¤€ì‹œ(KST) ì •í™•í•œ ì²˜ë¦¬
   - ì¼ê´‘ì ˆì•½ì‹œê°„(DST) ìë™ ì²˜ë¦¬

**ë³´ì™„ ì „ëµ:**

```javascript
// í•œêµ­ì‹ ì‹­ì‹  ê³„ì‚° ë¡œì§ ì¶”ê°€ êµ¬í˜„
function calculateKoreanTenGods(bazi) {
  // wangta69/laravel-fortune ë¡œì§ ì°¸ê³ 
  const dayMaster = bazi.dayPillar.stem;
  const tenGods = {};

  // ë¹„ê²(æ¯”åŠ«), ì‹ìƒ(é£Ÿå‚·), ì¬ì„±(è²¡æ˜Ÿ), ê´€ì„±(å®˜æ˜Ÿ), ì¸ì„±(å°æ˜Ÿ)
  // êµ¬í˜„ ë¡œì§...

  return tenGods;
}

// ì‹ ì‚´ ê³„ì‚°
function calculateSinsal(bazi) {
  // ì²œì„ê·€ì¸, ë¬¸ì°½ê·€ì¸, ì—­ë§ˆì‚´, ë„í™”ì‚´ ë“±
  // êµ¬í˜„ ë¡œì§...
}
```

**ëŒ€ì•ˆ ì‹œë‚˜ë¦¬ì˜¤:**

ë§Œì•½ í† ì •ë¹„ê²°, ìë¯¸ë‘ìˆ˜ ë“± í™•ì¥ ê¸°ëŠ¥ì´ í•„ìˆ˜ë¼ë©´:
â†’ wangta69/laravel-fortuneì„ PHP ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬ ìš´ì˜
â†’ Next.js â†” Laravel API í†µì‹  êµ¬ì¡°

í•˜ì§€ë§Œ **MVP ë‹¨ê³„ì—ì„œëŠ” ê³¼ë„í•œ ë³µì¡ë„**ì´ë¯€ë¡œ ë¹„ì¶”ì²œ.

---

## 3. AI ì±—ë´‡ ì§€ì‹ë² ì´ìŠ¤ êµ¬ì¶• ì „ëµ

### 3.1 ì‚¬ìš© ê°€ëŠ¥í•œ ì§€ì‹ ì†ŒìŠ¤

#### ğŸ“š í•µì‹¬ ì§€ì‹ ì†ŒìŠ¤ (í•©ë²•ì  í™•ë³´ ê°€ëŠ¥)

##### 1ï¸âƒ£ í˜„ë¬˜ì˜ "ë‚˜ì˜ ì‚¬ì£¼ëª…ë¦¬" (ìµœìš°ì„  ì¶”ì²œ)

**ì¶œì²˜:**
- ë¦¬ë””ë¶ìŠ¤: https://ridibooks.com/books/5146000001
- êµë³´ë¬¸ê³ : https://product.kyobobook.co.kr/detail/S000200091510
- ì•Œë¼ë”˜: https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=303737747

**ê°€ê²©:** â‚©15,000 (ì „ìì±…)

**íŠ¹ì§•:**
- 2022ë…„ ê°€ì„ ì¶œê°„, í˜„ëŒ€ì  í•´ì„ë²•
- ë¸”ë¡œê·¸ "ì•ˆë…•, ì‚¬ì£¼ëª…ë¦¬" ìš´ì˜ì
- 2019ë…„ë¶€í„° ì´ë©”ì¼ ìƒë‹´ ê²½í—˜ í’ë¶€
- ì‹¤ìš©ì ì´ê³  ëŒ€í™”í˜• ì ‘ê·¼ë²•

**í™œìš© ë°©ë²•:**
1. ì „ìì±… êµ¬ë§¤ í›„ í…ìŠ¤íŠ¸ ì¶”ì¶œ (í•©ë²•ì  ê°œì¸ ì‚¬ìš©)
2. í•µì‹¬ í•´ì„ ê·œì¹™ 100-200ê°œ ìˆ˜ì‘ì—… ì…ë ¥
3. ì²­í¬ë¡œ ë¶„í• í•˜ì—¬ ë²¡í„° DBì— ì €ì¥

**ì‹¬í™”í¸ë„ ì¡´ì¬:**
- "ë‚˜ì˜ ì‚¬ì£¼ëª…ë¦¬: ì‹¬í™” í¸" (ì¶”ê°€ êµ¬ë§¤ ê°€ëŠ¥)

---

##### 2ï¸âƒ£ ë‚˜ë¬´ìœ„í‚¤ "ì‚¬ì£¼íŒ”ì" ë¬¸ì„œ

**URL:** https://namu.wiki/w/ì‚¬ì£¼íŒ”ì

**ë¼ì´ì„ ìŠ¤:** CC BY-NC-SA 2.0 KR (ë¹„ì˜ë¦¬-ì €ì‘ìí‘œì‹œ-ë™ì¼ì¡°ê±´ë³€ê²½í—ˆë½)

**í™œìš© ê°€ëŠ¥ ë²”ìœ„:**
- ê¸°ì´ˆ ì´ë¡  ì„¤ëª… (ê°„ì§€, ì˜¤í–‰, ì‹­ì‹  ê°œë…)
- ì—­ì‚¬ì  ë°°ê²½
- ìš©ì–´ ì •ì˜

**ì£¼ì˜ì‚¬í•­:**
- ìƒì—…ì  ì´ìš© ì‹œ ë³„ë„ í˜‘ì˜ í•„ìš”
- MVP ë‹¨ê³„ì—ì„œëŠ” ê¸°ì´ˆ ì§€ì‹ ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í™œìš©

---

##### 3ï¸âƒ£ ê³µê°œ ê°•ì˜ ìë£Œ

**í™•ë³´ ê°€ëŠ¥ ìë£Œ:**
- ì›ê´‘ë””ì§€í„¸ëŒ€í•™êµ ë™ì–‘í•™ê³¼ ê°•ì˜ ìë£Œ
- í•œêµ­í† ì§€ì£¼íƒê³µì‚¬(LH) ë°•ë¬¼ê´€ ê°•ì˜ PDF: "ìŒì–‘ì˜¤í–‰ê³¼ ì‚¬ì£¼ëª…ë¦¬í•™"
- ëª…ë¦¬ì‹¬ë¦¬ìƒë‹´ì‚¬ êµì•ˆ (LEI êµìœ¡ì›)

**URL ì˜ˆì‹œ:**
- https://www.lei.or.kr/upfiledata/board/ëª…ë¦¬ì‹¬ë¦¬ìƒë‹´ì‚¬_ì „ì •í›ˆ_êµì•ˆëª¨ìŒ.pdf
- https://museum.lh.or.kr/file/fileDownload.do?file_physical=ì¼-10-10ê°•.pdf

---

##### 4ï¸âƒ£ ChatGPT ì‚¬ì£¼ GPT í”„ë¡¬í”„íŠ¸ ì—­ì„¤ê³„

**ì°¸ê³  ì„œë¹„ìŠ¤:**
- "ìš´ì„¸ë°•ì‚¬ GPT": https://chatgpt.com/g/g-mHCPUrEvZ
- "ì‚¬ì£¼íŒ”ì ëª…ë¦¬í•™": https://chatgpt.com/g/g-bOHE77cGN

**í™œìš© ë°©ë²•:**
- í”„ë¡¬í”„íŠ¸ êµ¬ì¡° ë¶„ì„ (ì–´ë–¤ ì§ˆë¬¸ì— ì–´ë–»ê²Œ ë‹µí•˜ëŠ”ì§€)
- í•´ì„ íŒ¨í„´ í•™ìŠµ
- ëŒ€í™” íë¦„ ë²¤ì¹˜ë§ˆí‚¹

---

#### âŒ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ ì†ŒìŠ¤

**1. ì‚¬ì£¼ ì˜¤í”ˆ ë°ì´í„°ì…‹**
â†’ í”„ë¼ì´ë²„ì‹œ ë¬¸ì œë¡œ ê³µê°œ ë°ì´í„°ì…‹ ê±°ì˜ ì—†ìŒ
â†’ ì‹¤ì œ ì‚¬ëŒ ì‚¬ì£¼ ê³µê°œëŠ” ëª…ì˜ˆí›¼ì† ìš°ë ¤

**2. ì €ì‘ê¶Œ ë§Œë£Œ ê³ ì„œ**
â†’ ã€ì—°í•´ìí‰ã€, ã€ì‚¼ëª…í†µíšŒã€, ã€ì ì²œìˆ˜ã€ ë“± ê³ ì „ ì¡´ì¬
â†’ í•˜ì§€ë§Œ ë””ì§€í„¸í™”ëœ í•œê¸€ ë²ˆì—­ë³¸ ë¬´ë£Œ PDF ì°¾ê¸° ì–´ë ¤ì›€
â†’ êµ­ë¦½ì¤‘ì•™ë„ì„œê´€, êµ­ì‚¬í¸ì°¬ìœ„ì›íšŒ ë“± ì ‘ê·¼ í•„ìš”

**3. í¬ë¡¤ë§/ìŠ¤í¬ë˜í•‘**
â†’ í¬ìŠ¤í…”ëŸ¬, í—¬ë¡œìš°ë´‡ ë“± ìƒì—… ì„œë¹„ìŠ¤ì˜ í•´ì„ ë°ì´í„°
â†’ ì €ì‘ê¶Œ ì¹¨í•´ ë° ì´ìš©ì•½ê´€ ìœ„ë°˜
â†’ ì ˆëŒ€ ë¶ˆê°€

---

### 3.2 RAG ì•„í‚¤í…ì²˜ ì„¤ê³„

#### ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì ì…ë ¥    â”‚ "ì˜¤ëŠ˜ ë©´ì ‘ì¸ë° ë–¨ì–´ì§ˆê¹Œë´ ë¶ˆì•ˆí•´ìš”"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‚¬ì£¼ ë°ì´í„° ì¡°íšŒ â”‚ Supabase DBì—ì„œ ì‚¬ìš©ì ì‚¬ì£¼íŒ”ì ë¡œë“œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vector ê²€ìƒ‰      â”‚ ì§ˆë¬¸ + ì‚¬ì£¼ ì •ë³´ë¡œ ê´€ë ¨ ëª…ë¦¬í•™ ì§€ì‹ ê²€ìƒ‰
â”‚ (Supabase)      â”‚ Top-K=5 ìœ ì‚¬ ì²­í¬ ë°˜í™˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í”„ë¡¬í”„íŠ¸ êµ¬ì„±    â”‚ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ + ì‚¬ì£¼ + ì§€ì‹ + ì§ˆë¬¸
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LLM í˜¸ì¶œ         â”‚ Claude 3.5 Sonnet / GPT-4 Turbo
â”‚                 â”‚ temperature=0.7
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìœ¤ë¦¬ í•„í„°ë§      â”‚ ìœ„ê¸° í‚¤ì›Œë“œ íƒì§€, ë©´ì±… ì¡°í•­ ì¶”ê°€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì ì‘ë‹µ    â”‚ "ë©´ì ‘ì€ ì¼ì‹œì  ìƒí™©ì´ì—ìš”..."
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### ğŸ“Š Supabase Vector DB êµ¬ì¶•

**1. í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ**

```sql
-- ì‚¬ì£¼ ì§€ì‹ ë²¡í„° í…Œì´ë¸”
create table saju_knowledge (
  id bigserial primary key,
  content text not null,
  embedding vector(1536),
  metadata jsonb,
  created_at timestamp default now()
);

-- ë²¡í„° ê²€ìƒ‰ ì¸ë±ìŠ¤ ìƒì„±
create index on saju_knowledge
using ivfflat (embedding vector_cosine_ops)
with (lists = 100);

-- ë©”íƒ€ë°ì´í„° ì¸ë±ìŠ¤
create index on saju_knowledge using gin (metadata);
```

**2. ë©”íƒ€ë°ì´í„° êµ¬ì¡°**

```json
{
  "type": "theory" | "interpretation" | "case_study" | "counseling",
  "topic": "ì‹­ì‹ " | "ì‹ ì‚´" | "ëŒ€ìš´" | "ì„¸ìš´" | "ì˜¤í–‰",
  "source": "í˜„ë¬˜ì˜ ì‚¬ì£¼ëª…ë¦¬" | "ë‚˜ë¬´ìœ„í‚¤" | "ê³µê°œê°•ì˜",
  "page": 42,
  "difficulty": "basic" | "intermediate" | "advanced"
}
```

---

#### âš™ï¸ ì„ë² ë”© ìƒì„± í”„ë¡œì„¸ìŠ¤

**ì‚¬ìš© ëª¨ë¸:** OpenAI text-embedding-3-small

**ë¹„ìš©:** $0.00002 / 1K tokens (ë§¤ìš° ì €ë ´)

**ì½”ë“œ ì˜ˆì œ:**

```javascript
import OpenAI from 'openai';
import { createClient } from '@supabase/supabase-js';

const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });
const supabase = createClient(
  process.env.SUPABASE_URL,
  process.env.SUPABASE_KEY
);

async function embedKnowledge(text, metadata) {
  // 1. í…ìŠ¤íŠ¸ë¥¼ 1024 í† í° ì²­í¬ë¡œ ë¶„í• 
  const chunks = splitIntoChunks(text, 1024);

  for (const chunk of chunks) {
    // 2. ì„ë² ë”© ìƒì„±
    const response = await openai.embeddings.create({
      model: 'text-embedding-3-small',
      input: chunk
    });

    const embedding = response.data[0].embedding;

    // 3. Supabaseì— ì €ì¥
    await supabase.from('saju_knowledge').insert({
      content: chunk,
      embedding: embedding,
      metadata: metadata
    });
  }
}

function splitIntoChunks(text, maxTokens) {
  // ê°„ë‹¨í•œ ì²­í¬ ë¶„í•  (ì‹¤ì œë¡œëŠ” tiktoken ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)
  const sentences = text.split(/[.!?]\s+/);
  const chunks = [];
  let currentChunk = '';

  for (const sentence of sentences) {
    if ((currentChunk + sentence).length < maxTokens * 4) {
      currentChunk += sentence + '. ';
    } else {
      chunks.push(currentChunk.trim());
      currentChunk = sentence + '. ';
    }
  }

  if (currentChunk) chunks.push(currentChunk.trim());
  return chunks;
}
```

---

#### ğŸ” ì‹œë§¨í‹± ê²€ìƒ‰ êµ¬í˜„

```javascript
async function searchRelevantKnowledge(query, userSaju, topK = 5) {
  // 1. ì¿¼ë¦¬ ì„ë² ë”© ìƒì„±
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query
  });

  // 2. ë²¡í„° ìœ ì‚¬ë„ ê²€ìƒ‰
  const { data, error } = await supabase.rpc('match_saju_knowledge', {
    query_embedding: queryEmbedding.data[0].embedding,
    match_count: topK,
    filter: { topic: userSaju.relevantTopics } // ì‚¬ìš©ì ì‚¬ì£¼ ì •ë³´ë¡œ í•„í„°ë§
  });

  return data;
}

// PostgreSQL í•¨ìˆ˜ (Supabaseì—ì„œ ì‹¤í–‰)
create or replace function match_saju_knowledge(
  query_embedding vector(1536),
  match_count int,
  filter jsonb default '{}'
)
returns table (
  id bigint,
  content text,
  metadata jsonb,
  similarity float
)
language plpgsql
as $$
begin
  return query
  select
    saju_knowledge.id,
    saju_knowledge.content,
    saju_knowledge.metadata,
    1 - (saju_knowledge.embedding <=> query_embedding) as similarity
  from saju_knowledge
  where metadata @> filter
  order by saju_knowledge.embedding <=> query_embedding
  limit match_count;
end;
$$;
```

---

#### ğŸ’¬ LLM í”„ë¡¬í”„íŠ¸ êµ¬ì„±

```javascript
async function generateChatResponse(userMessage, userSaju) {
  // 1. ê´€ë ¨ ì§€ì‹ ê²€ìƒ‰
  const relevantKnowledge = await searchRelevantKnowledge(
    userMessage,
    userSaju
  );

  // 2. ì‚¬ì£¼ ì •ë³´ ìš”ì•½
  const sajuSummary = `
    ì‚¬ìš©ì ì‚¬ì£¼:
    - ì¼ì£¼: ${userSaju.dayPillar}
    - ì˜¤í–‰: ${userSaju.elements}
    - ì‹­ì‹ : ${userSaju.tenGods}
    - ëŒ€ìš´: ${userSaju.greatFortune}
  `;

  // 3. í”„ë¡¬í”„íŠ¸ êµ¬ì„±
  const systemPrompt = `
ë‹¹ì‹ ì€ ì „ë¬¸ ì‚¬ì£¼ëª…ë¦¬ ìƒë‹´ì‚¬ì…ë‹ˆë‹¤.
ë‹¤ìŒ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì‚¬ìš©ìì˜ ê³ ë¯¼ì— ê³µê°í•˜ë©° ì¡°ì–¸í•´ì£¼ì„¸ìš”.

## ìœ¤ë¦¬ ê°€ì´ë“œë¼ì¸
- AIëŠ” ì „ë¬¸ ìƒë‹´ì‚¬ë¥¼ ëŒ€ì²´í•  ìˆ˜ ì—†ìŒì„ í•­ìƒ ëª…ì‹œ
- ìœ„ê¸° ìƒí™©(ìì‚´, ìí•´)ì—ì„œëŠ” ì¦‰ì‹œ ì „ë¬¸ ê¸°ê´€ ì•ˆë‚´
- í—ˆìœ„ ê³µê° ê¸ˆì§€, ì§„ì •ì„± ìˆëŠ” ëŒ€í™” ìœ ì§€
- ê²°ì •ë¡ ì  ìš´ëª…ë¡  ì§€ì–‘, ììœ ì˜ì§€ ê°•ì¡°

## ê´€ë ¨ ëª…ë¦¬í•™ ì§€ì‹
${relevantKnowledge.map(k => k.content).join('\n\n')}

${sajuSummary}
  `;

  // 4. Claude API í˜¸ì¶œ
  const response = await anthropic.messages.create({
    model: 'claude-3-5-sonnet-20241022',
    max_tokens: 1024,
    temperature: 0.7,
    system: systemPrompt,
    messages: [{ role: 'user', content: userMessage }]
  });

  return response.content[0].text;
}
```

---

### 3.3 ì‹¬ë¦¬ ìƒë‹´ ìœ¤ë¦¬ ê°€ì´ë“œë¼ì¸

#### ğŸ“œ ì¤€ìˆ˜í•´ì•¼ í•  êµ­ì œ í‘œì¤€

##### 1ï¸âƒ£ ACA (American Counseling Association) Code of Ethics

**í•µì‹¬ ì›ì¹™:**
- **ê¸°ë°€ì„± ë³´í˜¸:** ì‚¬ìš©ì ì‚¬ì£¼ ì •ë³´ëŠ” HIPAA ìˆ˜ì¤€ìœ¼ë¡œ ë³´í˜¸
- **ê³ ì§€ëœ ë™ì˜:** AIì˜ í•œê³„ë¥¼ ëª…í™•íˆ ì„¤ëª…
- **ì—­ëŸ‰ ë²”ìœ„ ì¤€ìˆ˜:** AIëŠ” ì§„ë‹¨/ì²˜ë°© ë¶ˆê°€

**ì ìš© ë°©ë²•:**
```javascript
// ì²« ëŒ€í™” ì‹œ ë©´ì±… ì¡°í•­ í‘œì‹œ
const disclaimerMessage = `
âš ï¸ ì¤‘ìš” ì•ˆë‚´

â€¢ ì´ AIëŠ” ì „ë¬¸ ìƒë‹´ì‚¬ë¥¼ ëŒ€ì²´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
â€¢ ì‹¬ê°í•œ ì‹¬ë¦¬ì  ìœ„ê¸° ì‹œ ì „ë¬¸ê°€ ìƒë‹´ì„ ë°›ìœ¼ì„¸ìš”
â€¢ ì‚¬ì£¼ í•´ì„ì€ ì°¸ê³  ìë£Œì¼ ë¿, ì ˆëŒ€ì  ì§„ë¦¬ê°€ ì•„ë‹™ë‹ˆë‹¤
â€¢ ìµœì¢… ê²°ì •ì€ ê·€í•˜ì˜ ììœ ì˜ì§€ì— ë‹¬ë ¤ìˆìŠµë‹ˆë‹¤

ë™ì˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ? [ë™ì˜] [ì·¨ì†Œ]
`;
```

---

##### 2ï¸âƒ£ NBCC (National Board for Certified Counselors) AI ì›ì¹™

**í•µì‹¬ ìš”êµ¬ì‚¬í•­:**
- AI ì‚¬ìš© ëª©ì  ëª…ì‹œ
- ë°ì´í„° ë³´ì•ˆ "Privacy by Design" ì›ì¹™
- ìœ„ê¸° ìƒí™© ëŒ€ì‘ í”„ë¡œí† ì½œ

**ìœ„ê¸° í‚¤ì›Œë“œ íƒì§€ ì‹œìŠ¤í…œ:**

```javascript
const crisisKeywords = [
  'ìì‚´', 'ì£½ê³ ì‹¶', 'ìí•´', 'ëª©ìˆ¨', 'ëë‚´ê³ ',
  'ìš°ìš¸ì¦', 'ê³µí™©ì¥ì• ', 'ì•½ë¬¼', 'ì•Œì½œ'
];

function detectCrisis(userMessage) {
  const hasCrisisKeyword = crisisKeywords.some(
    keyword => userMessage.includes(keyword)
  );

  if (hasCrisisKeyword) {
    return {
      isCrisis: true,
      message: `
ì§€ê¸ˆ í˜ë“  ì‹œê°„ì„ ë³´ë‚´ê³  ê³„ì‹  ê²ƒ ê°™ì•„ ê±±ì •ë©ë‹ˆë‹¤.
AI ìƒë‹´ìœ¼ë¡œëŠ” ì¶©ë¶„í•œ ë„ì›€ì„ ë“œë¦¬ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê¸´ê¸‰ ìƒë‹´ì´ í•„ìš”í•˜ì‹œë©´:
ğŸ“ ìì‚´ì˜ˆë°©ìƒë‹´ì „í™”: 1393 (24ì‹œê°„)
ğŸ“ ì •ì‹ ê±´ê°•ìœ„ê¸°ìƒë‹´: 1577-0199
ğŸ“ í¬ë§ì˜ ì „í™”: 129

ì „ë¬¸ ìƒë‹´ì‚¬ì™€ ëŒ€í™”í•˜ì‹œê¸¸ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.
      `
    };
  }

  return { isCrisis: false };
}
```

---

##### 3ï¸âƒ£ Brown University ì—°êµ¬ ê²°ê³¼ ë°˜ì˜

**2025ë…„ 10ì›” ì—°êµ¬:** AI ì±—ë´‡ì´ ì‹¬ë¦¬ìƒë‹´ ìœ¤ë¦¬ ê¸°ì¤€ì„ ì²´ê³„ì ìœ¼ë¡œ ìœ„ë°˜

**ì£¼ìš” ë¬¸ì œì :**
- ìœ„ê¸° ìƒí™© ë¶€ì ì ˆí•œ ëŒ€ì‘
- ì˜¤ë„í•˜ëŠ” ì‘ë‹µ
- í—ˆìœ„ ê³µê° ìƒì„±

**ëŒ€ì‘ ë°©ì•ˆ:**
```javascript
// ì‘ë‹µ ìƒì„± í›„ ìœ¤ë¦¬ í•„í„°ë§
function ethicalFilter(aiResponse, context) {
  // 1. ì ˆëŒ€ë¡ ì  í‘œí˜„ ì œê±°
  aiResponse = aiResponse.replace(
    /ë°˜ë“œì‹œ|í‹€ë¦¼ì—†ì´|100%|ì ˆëŒ€/g,
    'ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤'
  );

  // 2. ììœ ì˜ì§€ ê°•ì¡° ì¶”ê°€
  if (aiResponse.includes('ìš´ëª…') || aiResponse.includes('ì •í•´ì§„')) {
    aiResponse += '\n\ní•˜ì§€ë§Œ ìš´ëª…ì€ ë³€í™” ê°€ëŠ¥í•˜ë©°, ìµœì¢… ì„ íƒì€ ê·€í•˜ì—ê²Œ ìˆìŠµë‹ˆë‹¤.';
  }

  // 3. í—ˆìœ„ ê³µê° íƒì§€
  const fakeEmpathy = ['ì™„ì „íˆ ì´í•´í•´ìš”', 'ì •í™•íˆ ì•Œì•„ìš”'];
  fakeEmpathy.forEach(phrase => {
    aiResponse = aiResponse.replace(
      phrase,
      'ê·€í•˜ì˜ ê°ì •ì„ ì´í•´í•˜ë ¤ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤'
    );
  });

  // 4. ë©´ì±… ì¡°í•­ ì¶”ê°€ (ì‹¬ê°í•œ ì¡°ì–¸ ì‹œ)
  if (context.isSeriousAdvice) {
    aiResponse += '\n\n* ì´ëŠ” AIì˜ í•´ì„ì´ë©°, ì „ë¬¸ê°€ ì˜ê²¬ì´ ì•„ë‹™ë‹ˆë‹¤.';
  }

  return aiResponse;
}
```

---

#### ğŸ›¡ï¸ ë°ì´í„° í”„ë¼ì´ë²„ì‹œ ë³´í˜¸

**GDPR/CCPA ì¤€ìˆ˜:**

```javascript
// ì‚¬ìš©ì ë°ì´í„° ì•”í˜¸í™”
import crypto from 'crypto';

function encryptSajuData(sajuData, userId) {
  const key = crypto.pbkdf2Sync(
    process.env.ENCRYPTION_KEY,
    userId,
    100000,
    32,
    'sha256'
  );

  const iv = crypto.randomBytes(16);
  const cipher = crypto.createCipheriv('aes-256-cbc', key, iv);

  let encrypted = cipher.update(JSON.stringify(sajuData), 'utf8', 'hex');
  encrypted += cipher.final('hex');

  return {
    iv: iv.toString('hex'),
    data: encrypted
  };
}

// ë°ì´í„° ë³´ê´€ ê¸°ê°„ ì œí•œ
async function deleteOldChatHistory() {
  const sixMonthsAgo = new Date();
  sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);

  await supabase
    .from('chat_history')
    .delete()
    .lt('created_at', sixMonthsAgo.toISOString());
}
```

---

## 4. ê¸°ìˆ  ìŠ¤íƒ ì¶”ì²œ ë° ì•„í‚¤í…ì²˜

### 4.1 ì „ì²´ ê¸°ìˆ  ìŠ¤íƒ

```yaml
í”„ë¡ íŠ¸ì—”ë“œ:
  í”„ë ˆì„ì›Œí¬: Next.js 14 (App Router)
  ìŠ¤íƒ€ì¼ë§: Tailwind CSS
  UI ë¼ì´ë¸ŒëŸ¬ë¦¬: Headless UI / Radix UI
  ì• ë‹ˆë©”ì´ì…˜: Framer Motion
  ìƒíƒœê´€ë¦¬: React Context API (ZustandëŠ” ì„ íƒ)

ë°±ì—”ë“œ:
  API: Next.js API Routes (ì„œë²„ë¦¬ìŠ¤)
  ì¸ì¦: Supabase Auth
  ë°ì´í„°ë² ì´ìŠ¤: Supabase (PostgreSQL)
  ë²¡í„° DB: Supabase Vector (pgvector í™•ì¥)

ì‚¬ì£¼ ê³„ì‚°:
  ë©”ì¸: bazi-calculator-by-alvamind (npm)
  ìŒë ¥ ë³€í™˜: korean-lunar-calendar (npm)
  ì¶”ê°€ ë¡œì§: ì§ì ‘ êµ¬í˜„ (ì‹­ì‹ /ì‹ ì‚´)

AI/ML:
  LLM: Claude 3.5 Sonnet (Anthropic) ë˜ëŠ” GPT-4 Turbo (OpenAI)
  ì„ë² ë”©: OpenAI text-embedding-3-small
  ë²¡í„° ê²€ìƒ‰: pgvector (Supabase ë‚´ì¥)

ì¸í”„ë¼:
  í˜¸ìŠ¤íŒ…: Vercel (Next.js ìµœì í™”)
  CDN: Vercel Edge Network
  íŒŒì¼ ìŠ¤í† ë¦¬ì§€: Supabase Storage
  ëª¨ë‹ˆí„°ë§: Vercel Analytics + Sentry

ê²°ì œ:
  êµ­ë‚´: ì•„ì„í¬íŠ¸ (PG í†µí•©)
  í•´ì™¸: Stripe
```

---

### 4.2 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì‚¬ìš©ì (Browser)                      â”‚
â”‚                  Next.js 14 App (Vercel)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                            â”‚
             â”‚ í”„ë¡ íŠ¸ì—”ë“œ                   â”‚ API í˜¸ì¶œ
             â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Components   â”‚      â”‚   Next.js API Routes    â”‚
â”‚  - ì‚¬ì£¼ ì…ë ¥ í¼      â”‚      â”‚   - /api/saju/calculate â”‚
â”‚  - ë ˆí¬íŠ¸ UI        â”‚      â”‚   - /api/chat/message   â”‚
â”‚  - ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤   â”‚      â”‚   - /api/payment        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚               â”‚               â”‚
                        â–¼               â–¼               â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Supabase  â”‚ â”‚ Bazi Calc    â”‚ â”‚ AI Services  â”‚
              â”‚   Database  â”‚ â”‚ (npm pkg)    â”‚ â”‚ (Claude/GPT) â”‚
              â”‚             â”‚ â”‚              â”‚ â”‚              â”‚
              â”‚ - ì‚¬ìš©ì DB  â”‚ â”‚ - ì‚¬ì£¼ ê³„ì‚°   â”‚ â”‚ - LLM ì¶”ë¡    â”‚
              â”‚ - ì‚¬ì£¼ ì €ì¥  â”‚ â”‚ - ì˜¤í–‰ ë¶„ì„   â”‚ â”‚ - ì„ë² ë”©     â”‚
              â”‚ - ì±„íŒ… ê¸°ë¡  â”‚ â”‚ - ì‹­ì‹  íŒì •   â”‚ â”‚ - RAG ê²€ìƒ‰   â”‚
              â”‚ - Vector DB â”‚ â”‚              â”‚ â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4.3 ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
sajuchat/
â”œâ”€â”€ app/                      # Next.js 14 App Router
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”œâ”€â”€ (main)/
â”‚   â”‚   â”œâ”€â”€ onboarding/      # ìƒë…„ì›”ì¼ ì…ë ¥
â”‚   â”‚   â”œâ”€â”€ report/          # ì‚¬ì£¼ ë ˆí¬íŠ¸
â”‚   â”‚   â”œâ”€â”€ chat/            # AI ì±—ë´‡
â”‚   â”‚   â””â”€â”€ mypage/          # ë§ˆì´í˜ì´ì§€
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ saju/
â”‚   â”‚   â”‚   â”œâ”€â”€ calculate/   # ì‚¬ì£¼ ê³„ì‚° API
â”‚   â”‚   â”‚   â””â”€â”€ report/      # ë ˆí¬íŠ¸ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”œâ”€â”€ message/     # ì±—ë´‡ ë©”ì‹œì§€
â”‚   â”‚   â”‚   â””â”€â”€ history/     # ëŒ€í™” ê¸°ë¡
â”‚   â”‚   â”œâ”€â”€ payment/
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ saju/
â”‚   â”‚   â”œâ”€â”€ SajuInputForm.tsx
â”‚   â”‚   â”œâ”€â”€ SajuReportCard.tsx
â”‚   â”‚   â””â”€â”€ PillarDisplay.tsx
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx
â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â”‚   â””â”€â”€ QuickReply.tsx
â”‚   â””â”€â”€ common/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ saju/
â”‚   â”‚   â”œâ”€â”€ calculator.ts     # bazi-calculator ë˜í¼
â”‚   â”‚   â”œâ”€â”€ korean-logic.ts   # í•œêµ­ì‹ ì‹­ì‹ /ì‹ ì‚´
â”‚   â”‚   â””â”€â”€ lunar.ts          # ìŒë ¥ ë³€í™˜
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”œâ”€â”€ rag.ts            # RAG ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ prompts.ts        # LLM í”„ë¡¬í”„íŠ¸
â”‚   â”‚   â””â”€â”€ embeddings.ts     # ì„ë² ë”© ìƒì„±
â”‚   â””â”€â”€ supabase/
â”‚       â”œâ”€â”€ client.ts
â”‚       â””â”€â”€ queries.ts
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ knowledge/            # ì§€ì‹ë² ì´ìŠ¤ ì†ŒìŠ¤
â”‚   â”‚   â”œâ”€â”€ hyeonmyo/         # í˜„ë¬˜ì˜ ì±… ë‚´ìš©
â”‚   â”‚   â””â”€â”€ theory/           # ëª…ë¦¬í•™ ì´ë¡ 
â”‚   â””â”€â”€ prompts/              # ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ embed-knowledge.ts    # ì§€ì‹ë² ì´ìŠ¤ ì„ë² ë”© ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ package.json
```

---

## 5. êµ¬í˜„ ë¡œë“œë§µ (2ì£¼ MVP)

### Week 1: ë°±ì—”ë“œ & ì‚¬ì£¼ ê³„ì‚° ì—”ì§„

#### Day 1-2: í”„ë¡œì íŠ¸ ì„¤ì • ë° ì‚¬ì£¼ ê³„ì‚°

**ëª©í‘œ:** Next.js í”„ë¡œì íŠ¸ ìƒì„± + ì‚¬ì£¼ ê³„ì‚° API ì™„ì„±

```bash
# í”„ë¡œì íŠ¸ ìƒì„±
npx create-next-app@latest sajuchat --typescript --tailwind --app
cd sajuchat

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install bazi-calculator-by-alvamind
npm install korean-lunar-calendar
npm install @supabase/supabase-js
npm install @anthropic-ai/sdk
npm install openai

# ê°œë°œ ë„êµ¬
npm install -D @types/node
```

**êµ¬í˜„ íƒœìŠ¤í¬:**
- [x] Next.js 14 í”„ë¡œì íŠ¸ ìƒì„±
- [x] Tailwind CSS ì„¤ì •
- [x] í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env.local)
- [x] `/api/saju/calculate` ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- [x] bazi-calculator-by-alvamind í†µí•© í…ŒìŠ¤íŠ¸
- [x] ìŒë ¥ ë³€í™˜ ë¡œì§ ê²€ì¦

**ê²€ì¦ ë°©ë²•:**
```bash
# í…ŒìŠ¤íŠ¸ ìš”ì²­
curl -X POST http://localhost:3000/api/saju/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "year": 1990,
    "month": 10,
    "day": 15,
    "hour": 14,
    "minute": 30,
    "isLunar": false,
    "gender": "male"
  }'
```

---

#### Day 3-4: Supabase ì„¤ì • ë° ì§€ì‹ë² ì´ìŠ¤ êµ¬ì¶•

**ëª©í‘œ:** DB ìŠ¤í‚¤ë§ˆ ìƒì„± + ë²¡í„° ì„ë² ë”© ì‹œìŠ¤í…œ êµ¬ì¶•

```sql
-- Supabase SQL Editorì—ì„œ ì‹¤í–‰

-- 1. pgvector í™•ì¥ í™œì„±í™”
create extension if not exists vector;

-- 2. ì‚¬ìš©ì ì‚¬ì£¼ í…Œì´ë¸”
create table user_saju (
  id uuid primary key default uuid_generate_v4(),
  user_id uuid references auth.users(id),
  birth_date timestamp,
  is_lunar boolean,
  gender text,
  four_pillars jsonb,
  elements jsonb,
  ten_gods jsonb,
  created_at timestamp default now()
);

-- 3. ì§€ì‹ë² ì´ìŠ¤ í…Œì´ë¸”
create table saju_knowledge (
  id bigserial primary key,
  content text not null,
  embedding vector(1536),
  metadata jsonb,
  created_at timestamp default now()
);

-- 4. ë²¡í„° ê²€ìƒ‰ ì¸ë±ìŠ¤
create index on saju_knowledge
using ivfflat (embedding vector_cosine_ops)
with (lists = 100);

-- 5. ì±„íŒ… ê¸°ë¡ í…Œì´ë¸”
create table chat_history (
  id uuid primary key default uuid_generate_v4(),
  user_id uuid references auth.users(id),
  message text,
  response text,
  metadata jsonb,
  created_at timestamp default now()
);

-- 6. ë²¡í„° ê²€ìƒ‰ í•¨ìˆ˜
create or replace function match_saju_knowledge(
  query_embedding vector(1536),
  match_count int default 5
)
returns table (
  id bigint,
  content text,
  similarity float
)
language plpgsql
as $$
begin
  return query
  select
    saju_knowledge.id,
    saju_knowledge.content,
    1 - (saju_knowledge.embedding <=> query_embedding) as similarity
  from saju_knowledge
  order by saju_knowledge.embedding <=> query_embedding
  limit match_count;
end;
$$;
```

**êµ¬í˜„ íƒœìŠ¤í¬:**
- [x] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [x] í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì ìš©
- [x] í˜„ë¬˜ì˜ ì±… êµ¬ë§¤ (â‚©15,000)
- [x] í•µì‹¬ ë‚´ìš© 100ê°œ ì¶”ì¶œ (ìˆ˜ì‘ì—…)
- [x] ì„ë² ë”© ìƒì„± ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [x] ì§€ì‹ë² ì´ìŠ¤ ë²¡í„° ì €ì¥

**ì„ë² ë”© ìŠ¤í¬ë¦½íŠ¸:**
```typescript
// scripts/embed-knowledge.ts
import fs from 'fs';
import OpenAI from 'openai';
import { createClient } from '@supabase/supabase-js';

const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });
const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.SUPABASE_SERVICE_KEY!
);

async function embedKnowledgeBase() {
  // 1. ì§€ì‹ íŒŒì¼ ë¡œë“œ
  const knowledgeFiles = fs.readdirSync('./data/knowledge/hyeonmyo');

  for (const file of knowledgeFiles) {
    const content = fs.readFileSync(`./data/knowledge/hyeonmyo/${file}`, 'utf-8');
    const chunks = splitIntoChunks(content, 1024);

    for (const chunk of chunks) {
      // 2. ì„ë² ë”© ìƒì„±
      const response = await openai.embeddings.create({
        model: 'text-embedding-3-small',
        input: chunk
      });

      // 3. Supabaseì— ì €ì¥
      await supabase.from('saju_knowledge').insert({
        content: chunk,
        embedding: response.data[0].embedding,
        metadata: {
          source: 'í˜„ë¬˜ì˜ ì‚¬ì£¼ëª…ë¦¬',
          file: file,
          type: 'interpretation'
        }
      });

      console.log(`âœ… Embedded chunk from ${file}`);
    }
  }
}

function splitIntoChunks(text: string, maxTokens: number): string[] {
  const sentences = text.split(/[.!?]\s+/);
  const chunks: string[] = [];
  let currentChunk = '';

  for (const sentence of sentences) {
    if ((currentChunk + sentence).length < maxTokens * 4) {
      currentChunk += sentence + '. ';
    } else {
      if (currentChunk) chunks.push(currentChunk.trim());
      currentChunk = sentence + '. ';
    }
  }

  if (currentChunk) chunks.push(currentChunk.trim());
  return chunks;
}

embedKnowledgeBase();
```

**ì‹¤í–‰:**
```bash
npx tsx scripts/embed-knowledge.ts
```

---

#### Day 5: AI ì±—ë´‡ ë°±ì—”ë“œ êµ¬í˜„

**ëª©í‘œ:** RAG + LLM í†µí•© API ì™„ì„±

```typescript
// app/api/chat/message/route.ts
import { NextResponse } from 'next/server';
import Anthropic from '@anthropic-ai/sdk';
import OpenAI from 'openai';
import { createClient } from '@supabase/supabase-js';

const anthropic = new Anthropic({ apiKey: process.env.ANTHROPIC_API_KEY });
const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });
const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.SUPABASE_SERVICE_KEY!
);

export async function POST(request: Request) {
  const { message, userId } = await request.json();

  // 1. ì‚¬ìš©ì ì‚¬ì£¼ ì¡°íšŒ
  const { data: userSaju } = await supabase
    .from('user_saju')
    .select('*')
    .eq('user_id', userId)
    .single();

  // 2. ì¿¼ë¦¬ ì„ë² ë”© ìƒì„±
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message
  });

  // 3. ê´€ë ¨ ì§€ì‹ ê²€ìƒ‰
  const { data: knowledge } = await supabase.rpc('match_saju_knowledge', {
    query_embedding: queryEmbedding.data[0].embedding,
    match_count: 5
  });

  // 4. í”„ë¡¬í”„íŠ¸ êµ¬ì„±
  const systemPrompt = `
ë‹¹ì‹ ì€ ì „ë¬¸ ì‚¬ì£¼ëª…ë¦¬ ìƒë‹´ì‚¬ì…ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ì‚¬ì£¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê³µê°í•˜ë©° ì¡°ì–¸í•´ì£¼ì„¸ìš”.

## ì‚¬ìš©ì ì‚¬ì£¼ ì •ë³´
${JSON.stringify(userSaju.four_pillars, null, 2)}

## ê´€ë ¨ ëª…ë¦¬í•™ ì§€ì‹
${knowledge.map((k: any) => k.content).join('\n\n')}

## ìœ¤ë¦¬ ê°€ì´ë“œë¼ì¸
- AIëŠ” ì „ë¬¸ ìƒë‹´ì‚¬ë¥¼ ëŒ€ì²´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
- ìœ„ê¸° ìƒí™©ì—ì„œëŠ” ì „ë¬¸ ê¸°ê´€ì„ ì•ˆë‚´í•˜ì„¸ìš”
- ê²°ì •ë¡ ì  ìš´ëª…ë¡ ì„ ì§€ì–‘í•˜ê³  ììœ ì˜ì§€ë¥¼ ê°•ì¡°í•˜ì„¸ìš”
  `;

  // 5. Claude API í˜¸ì¶œ
  const response = await anthropic.messages.create({
    model: 'claude-3-5-sonnet-20241022',
    max_tokens: 1024,
    temperature: 0.7,
    system: systemPrompt,
    messages: [{ role: 'user', content: message }]
  });

  const aiResponse = response.content[0].text;

  // 6. ëŒ€í™” ê¸°ë¡ ì €ì¥
  await supabase.from('chat_history').insert({
    user_id: userId,
    message,
    response: aiResponse
  });

  return NextResponse.json({ response: aiResponse });
}
```

**êµ¬í˜„ íƒœìŠ¤í¬:**
- [x] `/api/chat/message` ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- [x] RAG ê²€ìƒ‰ ë¡œì§ í†µí•©
- [x] Claude 3.5 Sonnet API ì—°ë™
- [x] ìœ„ê¸° í‚¤ì›Œë“œ íƒì§€ ì‹œìŠ¤í…œ
- [x] ìœ¤ë¦¬ í•„í„°ë§ ë¡œì§

---

### Week 2: í”„ë¡ íŠ¸ì—”ë“œ & í†µí•©

#### Day 6-7: ì‚¬ì£¼ ì…ë ¥ í¼ ë° ë ˆí¬íŠ¸ UI

**ëª©í‘œ:** ì•„ë¦„ë‹¤ìš´ ì‚¬ì£¼ ë ˆí¬íŠ¸ í˜ì´ì§€ ì™„ì„±

```tsx
// app/(main)/onboarding/page.tsx
'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';

export default function OnboardingPage() {
  const router = useRouter();
  const [formData, setFormData] = useState({
    year: '',
    month: '',
    day: '',
    hour: '',
    minute: '',
    isLunar: false,
    gender: 'male'
  });

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    const response = await fetch('/api/saju/calculate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    });

    const { sajuId } = await response.json();
    router.push(`/report/${sajuId}`);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-600 to-indigo-700 flex items-center justify-center p-4">
      <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
        <h1 className="text-3xl font-bold text-gray-800 mb-6 text-center">
          ë¬´ë£Œ ì‚¬ì£¼ ë ˆí¬íŠ¸ ë°›ê¸°
        </h1>

        <form onSubmit={handleSubmit} className="space-y-4">
          {/* ìƒë…„ì›”ì¼ ì…ë ¥ */}
          <div className="grid grid-cols-3 gap-2">
            <input
              type="number"
              placeholder="ë…„ (ì˜ˆ: 1990)"
              value={formData.year}
              onChange={(e) => setFormData({ ...formData, year: e.target.value })}
              className="px-4 py-2 border rounded-lg"
            />
            <input
              type="number"
              placeholder="ì›”"
              value={formData.month}
              onChange={(e) => setFormData({ ...formData, month: e.target.value })}
              className="px-4 py-2 border rounded-lg"
            />
            <input
              type="number"
              placeholder="ì¼"
              value={formData.day}
              onChange={(e) => setFormData({ ...formData, day: e.target.value })}
              className="px-4 py-2 border rounded-lg"
            />
          </div>

          {/* ì¶œìƒ ì‹œê°„ */}
          <div className="grid grid-cols-2 gap-2">
            <input
              type="number"
              placeholder="ì‹œ (0-23)"
              value={formData.hour}
              onChange={(e) => setFormData({ ...formData, hour: e.target.value })}
              className="px-4 py-2 border rounded-lg"
            />
            <input
              type="number"
              placeholder="ë¶„"
              value={formData.minute}
              onChange={(e) => setFormData({ ...formData, minute: e.target.value })}
              className="px-4 py-2 border rounded-lg"
            />
          </div>

          {/* ìŒë ¥/ì–‘ë ¥ ì„ íƒ */}
          <div className="flex items-center space-x-4">
            <label className="flex items-center">
              <input
                type="radio"
                checked={!formData.isLunar}
                onChange={() => setFormData({ ...formData, isLunar: false })}
              />
              <span className="ml-2">ì–‘ë ¥</span>
            </label>
            <label className="flex items-center">
              <input
                type="radio"
                checked={formData.isLunar}
                onChange={() => setFormData({ ...formData, isLunar: true })}
              />
              <span className="ml-2">ìŒë ¥</span>
            </label>
          </div>

          {/* ì„±ë³„ ì„ íƒ */}
          <select
            value={formData.gender}
            onChange={(e) => setFormData({ ...formData, gender: e.target.value })}
            className="w-full px-4 py-2 border rounded-lg"
          >
            <option value="male">ë‚¨ì„±</option>
            <option value="female">ì—¬ì„±</option>
          </select>

          <button
            type="submit"
            className="w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition"
          >
            ë¬´ë£Œ ì‚¬ì£¼ ë ˆí¬íŠ¸ ë°›ê¸°
          </button>
        </form>

        <p className="text-xs text-gray-500 mt-4 text-center">
          * ì •í™•í•œ í•´ì„ì„ ìœ„í•´ ì¶œìƒ ì‹œê°„ê¹Œì§€ ì…ë ¥í•´ì£¼ì„¸ìš”
        </p>
      </div>
    </div>
  );
}
```

**êµ¬í˜„ íƒœìŠ¤í¬:**
- [x] ì˜¨ë³´ë”© í˜ì´ì§€ UI
- [x] ì‚¬ì£¼ ë ˆí¬íŠ¸ ì¹´ë“œ ë””ìì¸ (í¬ìŠ¤í…”ëŸ¬ ìŠ¤íƒ€ì¼)
- [x] ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ (Framer Motion)
- [x] ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ ìµœì í™”)

---

#### Day 8-9: ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤

**ëª©í‘œ:** ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼ ì±„íŒ… UI

```tsx
// app/(main)/chat/page.tsx
'use client';

import { useState, useRef, useEffect } from 'react';
import { useAuth } from '@/lib/auth';

export default function ChatPage() {
  const { user } = useAuth();
  const [messages, setMessages] = useState<any[]>([]);
  const [input, setInput] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const messagesEndRef = useRef<HTMLDivElement>(null);

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages]);

  const handleSend = async () => {
    if (!input.trim()) return;

    const userMessage = { role: 'user', content: input };
    setMessages(prev => [...prev, userMessage]);
    setInput('');
    setIsLoading(true);

    try {
      const response = await fetch('/api/chat/message', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          message: input,
          userId: user?.id
        })
      });

      const { response: aiResponse } = await response.json();
      setMessages(prev => [...prev, { role: 'assistant', content: aiResponse }]);
    } catch (error) {
      console.error(error);
    } finally {
      setIsLoading(false);
    }
  };

  const quickReplies = [
    'ì˜¤ëŠ˜ ìš´ì„¸ ì•Œë ¤ì¤˜',
    'ì—°ì• ìš´ ê¶ê¸ˆí•´',
    'ì´ì§ ê³ ë¯¼ì´ì•¼',
    'ê±´ê°•ì€ ê´œì°®ì„ê¹Œ?'
  ];

  return (
    <div className="flex flex-col h-screen bg-gray-50">
      {/* í—¤ë” */}
      <div className="bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 shadow-lg">
        <h1 className="text-xl font-semibold">ì‚¬ì£¼ AI ìƒë‹´</h1>
      </div>

      {/* ë©”ì‹œì§€ ì˜ì—­ */}
      <div className="flex-1 overflow-y-auto p-4 space-y-4">
        {messages.map((msg, idx) => (
          <div
            key={idx}
            className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}
          >
            <div
              className={`max-w-[70%] rounded-2xl px-4 py-2 ${
                msg.role === 'user'
                  ? 'bg-purple-600 text-white'
                  : 'bg-white shadow-md text-gray-800'
              }`}
            >
              {msg.content}
            </div>
          </div>
        ))}
        {isLoading && (
          <div className="flex justify-start">
            <div className="bg-white shadow-md rounded-2xl px-4 py-2">
              <div className="flex space-x-2">
                <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"></div>
                <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"></div>
              </div>
            </div>
          </div>
        )}
        <div ref={messagesEndRef} />
      </div>

      {/* Quick Replies */}
      <div className="px-4 py-2 flex space-x-2 overflow-x-auto">
        {quickReplies.map((reply, idx) => (
          <button
            key={idx}
            onClick={() => setInput(reply)}
            className="px-4 py-2 bg-white rounded-full text-sm shadow-md whitespace-nowrap hover:bg-gray-50"
          >
            {reply}
          </button>
        ))}
      </div>

      {/* ì…ë ¥ ì˜ì—­ */}
      <div className="p-4 bg-white border-t">
        <div className="flex space-x-2">
          <input
            type="text"
            value={input}
            onChange={(e) => setInput(e.target.value)}
            onKeyPress={(e) => e.key === 'Enter' && handleSend()}
            placeholder="ê³ ë¯¼ì„ ë§ì”€í•´ì£¼ì„¸ìš”..."
            className="flex-1 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-purple-600"
          />
          <button
            onClick={handleSend}
            disabled={!input.trim() || isLoading}
            className="px-6 py-2 bg-purple-600 text-white rounded-full font-semibold hover:bg-purple-700 disabled:opacity-50"
          >
            ì „ì†¡
          </button>
        </div>
      </div>
    </div>
  );
}
```

**êµ¬í˜„ íƒœìŠ¤í¬:**
- [x] ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ UI
- [x] Quick Reply ë²„íŠ¼
- [x] ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ (ì  3ê°œ)
- [x] ìë™ ìŠ¤í¬ë¡¤
- [x] ë§ˆí¬ë‹¤ìš´ ë Œë”ë§ (ì„ íƒ)

---

#### Day 10: ë°°í¬ ë° í…ŒìŠ¤íŠ¸

**ëª©í‘œ:** Vercel ë°°í¬ + ì „ì²´ íë¦„ í…ŒìŠ¤íŠ¸

```bash
# Vercel CLI ì„¤ì¹˜
npm install -g vercel

# ë°°í¬
vercel

# í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Vercel Dashboardì—ì„œ)
# - NEXT_PUBLIC_SUPABASE_URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY
# - SUPABASE_SERVICE_KEY
# - ANTHROPIC_API_KEY
# - OPENAI_API_KEY
```

**í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [x] ì‚¬ì£¼ ê³„ì‚° ì •í™•ë„ ê²€ì¦ (í¬ìŠ¤í…”ëŸ¬ì™€ êµì°¨ í™•ì¸)
- [x] AI ì±—ë´‡ ì‘ë‹µ í’ˆì§ˆ í…ŒìŠ¤íŠ¸
- [x] ìœ„ê¸° í‚¤ì›Œë“œ íƒì§€ ì‘ë™ í™•ì¸
- [x] ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸
- [x] í˜ì´ì§€ ë¡œë”© ì†ë„ (Lighthouse 90+ ëª©í‘œ)
- [x] ì‚¬ìš©ì í”Œë¡œìš° ì „ì²´ í…ŒìŠ¤íŠ¸

---

## 6. ë¹„ìš© ë¶„ì„ ë° ìˆ˜ìµí™” ì „ëµ

### 6.1 ì´ˆê¸° íˆ¬ì ë¹„ìš©

| í•­ëª© | ë¹„ìš© | ë¹„ê³  |
|------|------|------|
| í˜„ë¬˜ì˜ "ë‚˜ì˜ ì‚¬ì£¼ëª…ë¦¬" | â‚©15,000 | ì¼íšŒì„± |
| OpenAI API (ì„ë² ë”©) | ~$2 | 10ë§Œ í† í° ê¸°ì¤€ |
| Claude API (MVP í…ŒìŠ¤íŠ¸) | ~$50-100 | 1,000íšŒ ëŒ€í™” |
| Supabase (ë¬´ë£Œ í‹°ì–´) | $0 | 500MB DB, 2GB ì „ì†¡ |
| Vercel (Hobby) | $0 | ë¬´ë£Œ ë°°í¬ |
| **ì´ ì´ˆê¸° íˆ¬ì** | **~$70-120** | **ì•½ â‚©90,000-150,000** |

---

### 6.2 ì›”ê°„ ìš´ì˜ ë¹„ìš© (ì¶”ì •)

#### ì‹œë‚˜ë¦¬ì˜¤ A: ì†Œê·œëª¨ (100 DAU)

| í•­ëª© | ë¹„ìš© | ê³„ì‚° ê·¼ê±° |
|------|------|-----------|
| Supabase Free Tier | $0 | 500MB DB ì´ë‚´ |
| Claude API | $20-30 | 100ëª… Ã— 3íšŒ/ì¼ Ã— $0.003 |
| OpenAI Embeddings | $1 | ì†ŒëŸ‰ ì‹ ê·œ ì§€ì‹ ì¶”ê°€ |
| Vercel (Free) | $0 | 100GB ëŒ€ì—­í­ ì´ë‚´ |
| **ì›” ì´ ë¹„ìš©** | **$21-31** | **â‚©27,000-40,000** |

---

#### ì‹œë‚˜ë¦¬ì˜¤ B: ì¤‘ê·œëª¨ (1,000 DAU)

| í•­ëª© | ë¹„ìš© | ê³„ì‚° ê·¼ê±° |
|------|------|-----------|
| Supabase Pro | $25 | 8GB DB, 250GB ì „ì†¡ |
| Claude API | $200-300 | 1,000ëª… Ã— 3íšŒ/ì¼ Ã— $0.003 |
| OpenAI Embeddings | $10 | ì›”ê°„ ì—…ë°ì´íŠ¸ |
| Vercel Pro | $20 | 1TB ëŒ€ì—­í­ |
| **ì›” ì´ ë¹„ìš©** | **$255-355** | **â‚©330,000-460,000** |

---

#### ì‹œë‚˜ë¦¬ì˜¤ C: ëŒ€ê·œëª¨ (10,000 DAU)

| í•­ëª© | ë¹„ìš© | ê³„ì‚° ê·¼ê±° |
|------|------|-----------|
| Supabase Pro | $25 | ì´ˆê³¼ ì‹œ ì¶”ê°€ ë¹„ìš© |
| DB ì¶”ê°€ ìŠ¤í† ë¦¬ì§€ | $50 | 50GB ì¶”ê°€ |
| Claude API | $2,000-3,000 | 10,000ëª… Ã— 3íšŒ/ì¼ Ã— $0.003 |
| OpenAI Embeddings | $50 | ëŒ€ëŸ‰ ì§€ì‹ ì¶”ê°€ |
| Vercel Pro | $20 | 1TB ëŒ€ì—­í­ |
| CDN/ìºì‹± | $100 | Cloudflare R2 |
| **ì›” ì´ ë¹„ìš©** | **$2,245-3,245** | **â‚©2,900,000-4,200,000** |

---

### 6.3 ìˆ˜ìµ ëª¨ë¸ (í•˜ì´ë¸Œë¦¬ë“œ)

#### ğŸ’° Option A: í¬ë ˆë”§ ì‹œìŠ¤í…œ (ì¶”ì²œ)

| íŒ¨í‚¤ì§€ | ê°€ê²© | í¬ë ˆë”§ | í• ì¸ìœ¨ |
|--------|------|--------|--------|
| Starter | â‚©5,000 | 10 | - |
| Popular | â‚©20,000 | 50 | 20% |
| Premium | â‚©35,000 | 100 | 30% |

**í¬ë ˆë”§ ì‚¬ìš©:**
- ê¸°ë³¸ ìƒë‹´ (ì¼ìƒ ê³ ë¯¼): 1 í¬ë ˆë”§
- ì‹¬í™” ìƒë‹´ (ì—°ì• /ê²°í˜¼/ì·¨ì—…): 2 í¬ë ˆë”§
- ê¶í•© ë¶„ì„: 3 í¬ë ˆë”§
- ë§ì¶¤ ì•¡ì…˜ í”Œëœ: 5 í¬ë ˆë”§

**ì˜ˆìƒ ìˆ˜ìµ (1,000 DAU ê¸°ì¤€):**
- ë¬´ë£Œ ì‚¬ìš©ì: 700ëª… (70%)
- í¬ë ˆë”§ êµ¬ë§¤: 250ëª… (25%) Ã— â‚©10,000 = â‚©2,500,000/ì›”
- êµ¬ë…ì: 50ëª… (5%) Ã— â‚©9,900 = â‚©495,000/ì›”
- **ì›” ì´ ìˆ˜ìµ:** **â‚©2,995,000**

**ì†ìµ:**
- ìˆ˜ìµ: â‚©2,995,000
- ë¹„ìš©: â‚©330,000
- **ìˆœì´ìµ: â‚©2,665,000** (89% ë§ˆì§„)

---

#### ğŸ’³ Option B: êµ¬ë… ëª¨ë¸

| í”Œëœ | ì›” ê°€ê²© | í¬í•¨ ë‚´ìš© |
|------|---------|-----------|
| Basic | â‚©9,900 | ë¬´ì œí•œ ê¸°ë³¸ ìƒë‹´, ì¼ì¼ ìš´ì„¸ |
| Pro | â‚©19,900 | Basic + ì‹¬í™” ìƒë‹´ ë¬´ì œí•œ, ì›”ê°„ ë¦¬í¬íŠ¸ |
| Premium | â‚©29,900 | Pro + 1:1 ì „ë¬¸ê°€ ìƒë‹´ 1íšŒ, ë§ì¶¤ ê°€ì´ë“œ |

---

### 6.4 ì†ìµë¶„ê¸°ì  (BEP)

**ì‹œë‚˜ë¦¬ì˜¤ B ê¸°ì¤€ (1,000 DAU):**

ì›” ìš´ì˜ë¹„: â‚©330,000

**ì†ìµë¶„ê¸°ë¥¼ ìœ„í•œ ìµœì†Œ ë§¤ì¶œ:**
- í¬ë ˆë”§ êµ¬ë§¤ 200ê±´ (25% Ã— 800ëª…) Ã— â‚©5,000 = â‚©1,000,000
- ë˜ëŠ” êµ¬ë…ì 50ëª… (5%) Ã— â‚©9,900 = â‚©495,000
- **í•©ê³„: â‚©1,495,000 > â‚©330,000** âœ…

**ì˜ˆìƒ ë‹¬ì„± ì‹œì :**
- ë¡ ì¹­ í›„ 1-2ê°œì›” (ëˆ„ì  ê°€ì…ì 3,000-5,000ëª…)

---

### 6.5 ë¹„ìš© ìµœì í™” ì „ëµ

#### 1ï¸âƒ£ ìºì‹±ìœ¼ë¡œ API ë¹„ìš© 60% ì ˆê°

```typescript
// ë™ì¼ ì‚¬ì£¼ëŠ” ì¬ê³„ì‚° ì•ˆ í•¨
async function getCachedSaju(birthData: BirthData) {
  const cacheKey = JSON.stringify(birthData);

  // Redis ë˜ëŠ” Supabaseì—ì„œ ìºì‹œ ì¡°íšŒ
  const cached = await supabase
    .from('saju_cache')
    .select('*')
    .eq('cache_key', cacheKey)
    .single();

  if (cached.data) {
    return cached.data.result;
  }

  // ìºì‹œ ë¯¸ìŠ¤ ì‹œ ê³„ì‚°
  const result = await calculateSaju(birthData);

  // ìºì‹œ ì €ì¥ (7ì¼ TTL)
  await supabase.from('saju_cache').insert({
    cache_key: cacheKey,
    result,
    expires_at: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)
  });

  return result;
}
```

#### 2ï¸âƒ£ ì‘ë‹µ ê¸¸ì´ ì œí•œ

```typescript
// Claude API í˜¸ì¶œ ì‹œ max_tokens ì œí•œ
const response = await anthropic.messages.create({
  model: 'claude-3-5-sonnet-20241022',
  max_tokens: 512, // 1024 â†’ 512ë¡œ ì¤„ì—¬ ë¹„ìš© 50% ì ˆê°
  temperature: 0.7,
  // ...
});
```

#### 3ï¸âƒ£ ë¬´ë£Œ ì‚¬ìš©ì ì œí•œ

- ì¼ì¼ 3íšŒ ëŒ€í™”ë¡œ ì œí•œ
- ì‘ë‹µ ê¸¸ì´ 300ì ì´ë‚´
- ì‹¬í™” ê¸°ëŠ¥ì€ ìœ ë£Œ ì „í™˜

---

## 7. ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘ ë°©ì•ˆ

### 7.1 ê¸°ìˆ ì  ë¦¬ìŠ¤í¬

#### ë¦¬ìŠ¤í¬ 1: ì‚¬ì£¼ ê³„ì‚° ì •í™•ë„ ë¬¸ì œ

**ì¦ìƒ:** í¬ìŠ¤í…”ëŸ¬/í—¬ë¡œìš°ë´‡ê³¼ ê²°ê³¼ê°€ ë‹¤ë¦„

**ì›ì¸:**
- ìŒë ¥ ë³€í™˜ ì˜¤ì°¨
- ì‹œì£¼(æ™‚æŸ±) ê³„ì‚° ì‹œê°„ëŒ€ ì°¨ì´
- ì ˆì…(ç¯€å…¥) ì‹œê° ë¯¸ë°˜ì˜

**ëŒ€ì‘ ë°©ì•ˆ:**
```typescript
// 1. ì ˆì… ì‹œê° ì •í™•í•œ ê³„ì‚°
import { getSolarTerms } from 'korean-lunar-calendar';

function adjustForSolarTerms(birthDate: Date) {
  const solarTerms = getSolarTerms(birthDate.getFullYear());
  const lichun = solarTerms.find(t => t.name === 'ì…ì¶˜');

  // ì…ì¶˜ ì „ì´ë©´ ì „ë…„ë„ ê°„ì§€ ì‚¬ìš©
  if (birthDate < lichun.date) {
    return { ...birthDate, year: birthDate.getFullYear() - 1 };
  }

  return birthDate;
}

// 2. í¬ìŠ¤í…”ëŸ¬ ë§Œì„¸ë ¥ APIë¡œ êµì°¨ ê²€ì¦ (ê°œë°œ ì¤‘)
async function validateWithForceteller(birthData: BirthData) {
  // í¬ìŠ¤í…”ëŸ¬ ê³µê°œ APIê°€ ì—†ìœ¼ë¯€ë¡œ, ìˆ˜ë™ ë¹„êµ í…ŒìŠ¤íŠ¸
  // 100ê°œ ìƒ˜í”Œ ìƒë…„ì›”ì¼ë¡œ ê²€ì¦
}
```

**ê²€ì¦ í”„ë¡œì„¸ìŠ¤:**
1. 100ê°œ ìƒ˜í”Œ ìƒë…„ì›”ì¼ ì¤€ë¹„
2. í¬ìŠ¤í…”ëŸ¬/í—¬ë¡œìš°ë´‡ê³¼ ë³‘ë ¬ ë¹„êµ
3. ì˜¤ì°¨ ë°œê²¬ ì‹œ ë¡œì§ ìˆ˜ì •
4. ì •í™•ë„ 95% ì´ìƒ ëª©í‘œ

---

#### ë¦¬ìŠ¤í¬ 2: ì§€ì‹ë² ì´ìŠ¤ ë¶€ì¡±ìœ¼ë¡œ AI ë‹µë³€ í’ˆì§ˆ ì €í•˜

**ì¦ìƒ:** ì¼ë°˜ì ì¸ ì¡°ì–¸ë§Œ í•˜ê³  ì‚¬ì£¼ì™€ ë¬´ê´€í•œ ë‹µë³€

**ì›ì¸:**
- ì´ˆê¸° ì§€ì‹ë² ì´ìŠ¤ 100ê°œë¡œ ë¶€ì¡±
- RAG ê²€ìƒ‰ì´ ê´€ë ¨ ì—†ëŠ” ì²­í¬ ë°˜í™˜

**ëŒ€ì‘ ë°©ì•ˆ:**
```typescript
// 1. í•˜ì´ë¸Œë¦¬ë“œ í”„ë¡¬í”„íŠ¸: RAG + GPT-4 ì¼ë°˜ ì§€ì‹
const systemPrompt = `
ë‹¹ì‹ ì€ ì „ë¬¸ ì‚¬ì£¼ëª…ë¦¬ ìƒë‹´ì‚¬ì…ë‹ˆë‹¤.

## ìš°ì„ ìˆœìœ„
1. ì•„ë˜ 'ì „ë¬¸ ì§€ì‹'ì„ ìµœìš°ì„ ìœ¼ë¡œ í™œìš©
2. ì „ë¬¸ ì§€ì‹ì´ ë¶€ì¡±í•˜ë©´ ì¼ë°˜ ëª…ë¦¬í•™ ì›ë¦¬ ì ìš©
3. í™•ì‹ ì´ ì—†ìœ¼ë©´ "ì´ ë¶€ë¶„ì€ ë” ê¹Šì€ ë¶„ì„ì´ í•„ìš”í•©ë‹ˆë‹¤"ë¼ê³  ì†”ì§íˆ ë§í•  ê²ƒ

## ì „ë¬¸ ì§€ì‹ (í˜„ë¬˜ì˜ ì‚¬ì£¼ëª…ë¦¬)
${relevantKnowledge}

## ì¼ë°˜ ì›ë¦¬
- ì˜¤í–‰ ìƒìƒìƒê·¹
- ì‹­ì‹ ì˜ ê¸°ë³¸ ì˜ë¯¸
- ëŒ€ìš´/ì„¸ìš´ì˜ ì˜í–¥
`;

// 2. ì ì§„ì  ì§€ì‹ í™•ì¥ (ì‚¬ìš©ì í”¼ë“œë°±)
async function collectFeedback(chatId: string, rating: number, comment: string) {
  await supabase.from('chat_feedback').insert({
    chat_id: chatId,
    rating,
    comment
  });

  // rating < 3ì¸ ê²½ìš° ë¶„ì„í•˜ì—¬ ì§€ì‹ ì¶”ê°€
  if (rating < 3) {
    console.log('ğŸ” Low rating - need more knowledge:', comment);
  }
}
```

**í™•ì¥ ê³„íš:**
- Month 1: 100ê°œ ì§€ì‹ (MVP)
- Month 2: 300ê°œ ì§€ì‹ (ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜)
- Month 3: 500ê°œ ì§€ì‹ (ì „ë¬¸ê°€ ê²€ìˆ˜)

---

#### ë¦¬ìŠ¤í¬ 3: API ë¹„ìš© í­ë°œ

**ì¦ìƒ:** ì˜ˆìƒë³´ë‹¤ 10ë°° ë†’ì€ API ì²­êµ¬ì„œ

**ì›ì¸:**
- ë¬´ì œí•œ ëŒ€í™” í—ˆìš©
- ê¸´ ì‘ë‹µ ìƒì„± (max_tokens ë†’ìŒ)
- ìºì‹± ì—†ì´ ë§¤ë²ˆ LLM í˜¸ì¶œ

**ëŒ€ì‘ ë°©ì•ˆ:**
```typescript
// 1. Rate Limiting (ì‚¬ìš©ìë³„)
import rateLimit from 'express-rate-limit';

const chatLimiter = rateLimit({
  windowMs: 24 * 60 * 60 * 1000, // 24ì‹œê°„
  max: 3, // ë¬´ë£Œ ì‚¬ìš©ì 3íšŒ
  handler: (req, res) => {
    res.status(429).json({
      error: 'ì¼ì¼ ë¬´ë£Œ ëŒ€í™” íšŸìˆ˜ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. í¬ë ˆë”§ì„ êµ¬ë§¤í•˜ì‹œê±°ë‚˜ ë‚´ì¼ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.'
    });
  }
});

// 2. ì‘ë‹µ ê¸¸ì´ ì œí•œ
max_tokens: user.isPremium ? 1024 : 512

// 3. ë¹„ìš© ëª¨ë‹ˆí„°ë§ ì•Œë¦¼
async function checkMonthlyCost() {
  const monthlyCost = await calculateAPIUsage();

  if (monthlyCost > 500000) { // â‚©500,000 ì´ˆê³¼
    await sendAlert('API ë¹„ìš© ê²½ê³ : ' + monthlyCost);
  }
}
```

---

### 7.2 ë²•ë¥ ì /ìœ¤ë¦¬ì  ë¦¬ìŠ¤í¬

#### ë¦¬ìŠ¤í¬ 4: ì‚¬ì£¼ ìƒë‹´ì˜ ë²•ì  ì§€ìœ„ ë¶ˆí™•ì‹¤ì„±

**ì´ìŠˆ:** í•œêµ­ì—ì„œ ì‚¬ì£¼ ìƒë‹´ì´ ì˜ë£Œë²•/ìƒë‹´ì‚¬ ìê²©ë²• ìœ„ë°˜ ê°€ëŠ¥ì„±

**ëŒ€ì‘ ë°©ì•ˆ:**

1. **ëª…í™•í•œ ë©´ì±… ì¡°í•­**
```typescript
const legalDisclaimer = `
ë³¸ ì„œë¹„ìŠ¤ëŠ” ì—”í„°í…Œì¸ë¨¼íŠ¸ ëª©ì ì˜ AI ê¸°ë°˜ ì‚¬ì£¼ í•´ì„ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
- ì˜ë£Œ, ë²•ë¥ , ì¬ë¬´ ìƒë‹´ì„ ëŒ€ì²´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- ì¤‘ìš”í•œ ê²°ì •ì€ ì „ë¬¸ê°€ì™€ ìƒë‹´ í›„ ë‚´ë¦¬ì‹œê¸° ë°”ëë‹ˆë‹¤
- AIì˜ í•´ì„ì€ ì°¸ê³  ìë£Œì¼ ë¿, ì ˆëŒ€ì  ì§„ë¦¬ê°€ ì•„ë‹™ë‹ˆë‹¤
`;
```

2. **ì „ë¬¸ê°€ ì—°ê³„ ì‹œìŠ¤í…œ**
- ì‹¬ê°í•œ ê³ ë¯¼ â†’ ì‹¤ì œ ìƒë‹´ì‚¬ ì¶”ì²œ
- ì œíœ´ ìƒë‹´ì„¼í„° ì†Œê°œ (ìˆ˜ìˆ˜ë£Œ ìˆ˜ìµ ê°€ëŠ¥)

3. **ì˜ë£Œë²• ìœ„ë°˜ ë°©ì§€**
- ì§ˆë³‘ ì§„ë‹¨/ì¹˜ë£Œ ì¡°ì–¸ ê¸ˆì§€
- "ë³‘ì› ë°©ë¬¸ ê¶Œì¥" ìë™ ì‘ë‹µ

---

#### ë¦¬ìŠ¤í¬ 5: ê°œì¸ì •ë³´ ìœ ì¶œ

**ì´ìŠˆ:** ìƒë…„ì›”ì¼ì‹œ + ê³ ë¯¼ ë‚´ìš© = ë§¤ìš° ë¯¼ê°í•œ ê°œì¸ì •ë³´

**ëŒ€ì‘ ë°©ì•ˆ:**

1. **ì•”í˜¸í™”**
```typescript
// ì‚¬ì£¼ ë°ì´í„° AES-256 ì•”í˜¸í™”
import crypto from 'crypto';

function encryptSensitiveData(data: any, userId: string) {
  const key = crypto.scryptSync(
    process.env.ENCRYPTION_SECRET!,
    userId,
    32
  );
  const iv = crypto.randomBytes(16);
  const cipher = crypto.createCipheriv('aes-256-cbc', key, iv);

  let encrypted = cipher.update(JSON.stringify(data), 'utf8', 'hex');
  encrypted += cipher.final('hex');

  return { iv: iv.toString('hex'), data: encrypted };
}
```

2. **ë°ì´í„° ë³´ê´€ ê¸°ê°„ ì œí•œ**
- ì±„íŒ… ê¸°ë¡: 6ê°œì›” í›„ ìë™ ì‚­ì œ
- ì‚¬ì£¼ ì •ë³´: ê³„ì • íƒˆí‡´ ì‹œ ì¦‰ì‹œ ì‚­ì œ

3. **GDPR/CCPA ì¤€ìˆ˜**
- ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ ëª…ì‹œ
- ë°ì´í„° ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
- ì‚­ì œ ìš”ì²­ ì¦‰ì‹œ ì²˜ë¦¬

---

## 8. ë‹¤ìŒ ë‹¨ê³„ (Phase 2 í™•ì¥)

### MVP ì¶œì‹œ í›„ ì¶”ê°€ ê¸°ëŠ¥

#### 1ï¸âƒ£ ê¶í•© ë¶„ì„
- ë‘ ì‚¬ëŒì˜ ì‚¬ì£¼ ë¹„êµ
- ì˜¤í–‰ ìƒìƒìƒê·¹ ë¶„ì„
- ì—°ì• /ê²°í˜¼ ê¶í•© ì ìˆ˜

#### 2ï¸âƒ£ ëŒ€ìš´/ì„¸ìš´ ìë™ ì•Œë¦¼
- ì¤‘ìš”í•œ ëŒ€ìš´ ì „í™˜ê¸° ì•Œë¦¼
- ì—°ê°„ ì„¸ìš´ ìš´ì„¸ ë¦¬í¬íŠ¸
- ë§¤ì›” ì›”ìš´ ìš”ì•½

#### 3ï¸âƒ£ í† ì •ë¹„ê²° í†µí•©
- wangta69/laravel-fortune ì°¸ê³ 
- PHP ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬ ìš´ì˜

#### 4ï¸âƒ£ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥
- ìµëª… ê³ ë¯¼ ê²Œì‹œíŒ
- ì‚¬ì£¼ í•´ì„ ê³µìœ 
- ì „ë¬¸ê°€ Q&A

#### 5ï¸âƒ£ ë‹¤êµ­ì–´ ì§€ì›
- ì˜ì–´ ë²ˆì—­ (í•´ì™¸ ì§„ì¶œ)
- ì¤‘êµ­ì–´ (ì¤‘í™”ê¶Œ ì‹œì¥)

---

## 9. ë¶€ë¡: ì°¸ê³  ìë£Œ ë° ë§í¬

### 9.1 ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬

#### JavaScript/Node.js
- **bazi-calculator-by-alvamind**: https://github.com/alvamind/bazi-calculator-by-alvamind
- **@kurone-kito/dantalion**: https://github.com/kurone-kito/dantalion
- **korean-lunar-calendar**: https://www.npmjs.com/package/korean-lunar-calendar

#### PHP/Laravel
- **wangta69/laravel-fortune**: https://github.com/wangta69/laravel-fortune
- **OOPS-ORG-PHP/Lunar**: https://github.com/OOPS-ORG-PHP/Lunar

#### Python
- **korean_lunar_calendar_py**: https://github.com/usingsky/korean_lunar_calendar_py
- **pylunardate**: https://github.com/charsyam/pylunardate

---

### 9.2 ì§€ì‹ë² ì´ìŠ¤ ì†ŒìŠ¤

#### êµ¬ë§¤ ê°€ëŠ¥ ì„œì 
- **í˜„ë¬˜ì˜ "ë‚˜ì˜ ì‚¬ì£¼ëª…ë¦¬"**: https://ridibooks.com/books/5146000001 (â‚©15,000)
- **"ë‚˜ì˜ ì‚¬ì£¼ëª…ë¦¬: ì‹¬í™” í¸"**: https://product.kyobobook.co.kr/detail/S000202689685

#### ê³µê°œ ìë£Œ
- **ë‚˜ë¬´ìœ„í‚¤ ì‚¬ì£¼íŒ”ì**: https://namu.wiki/w/ì‚¬ì£¼íŒ”ì
- **ëª…ë¦¬ì‹¬ë¦¬ìƒë‹´ì‚¬ êµì•ˆ (LEI)**: https://www.lei.or.kr/upfiledata/board/ëª…ë¦¬ì‹¬ë¦¬ìƒë‹´ì‚¬_ì „ì •í›ˆ_êµì•ˆëª¨ìŒ.pdf

#### ì°¸ê³  ì„œë¹„ìŠ¤
- **ChatGPT ìš´ì„¸ë°•ì‚¬ GPT**: https://chatgpt.com/g/g-mHCPUrEvZ
- **í¬ìŠ¤í…”ëŸ¬ ë§Œì„¸ë ¥**: https://pro.forceteller.com/

---

### 9.3 ì‹¬ë¦¬ ìƒë‹´ ìœ¤ë¦¬ ê°€ì´ë“œ

- **ACA Code of Ethics**: https://www.counseling.org/resources/aca-code-of-ethics.pdf
- **NBCC AI Principles**: https://www.nbcc.org/resources/nccs/newsletter/ethical-use-of-ai-in-counseling-practice
- **Brown University AI Ethics Study**: https://www.brown.edu/news/2025-10-21/ai-mental-health-ethics

---

### 9.4 ê¸°ìˆ  ë¬¸ì„œ

#### Next.js
- **Next.js 14 Documentation**: https://nextjs.org/docs
- **App Router Guide**: https://nextjs.org/docs/app

#### Supabase
- **Supabase Vector Search**: https://supabase.com/docs/guides/ai/examples/nextjs-vector-search
- **pgvector Extension**: https://github.com/pgvector/pgvector

#### AI APIs
- **Claude 3.5 Sonnet Docs**: https://docs.anthropic.com/claude/docs
- **OpenAI Embeddings**: https://platform.openai.com/docs/guides/embeddings

---

## 10. ê²°ë¡  ë° ì‹¤í–‰ ê³„íš

### âœ… í•µì‹¬ ê¶Œì¥ì‚¬í•­ ìš”ì•½

1. **ë§Œì„¸ë ¥/ì‚¬ì£¼ ë¼ì´ë¸ŒëŸ¬ë¦¬**
   - âœ… **bazi-calculator-by-alvamind** (npm) ì±„íƒ
   - âœ… **korean-lunar-calendar** ë³´ì¡° ì‚¬ìš©
   - ğŸ”§ í•œêµ­ì‹ ì‹­ì‹ /ì‹ ì‚´ì€ ì§ì ‘ êµ¬í˜„ (wangta69 ì°¸ê³ )

2. **AI ì±—ë´‡ ì§€ì‹ë² ì´ìŠ¤**
   - ğŸ“š í˜„ë¬˜ì˜ "ë‚˜ì˜ ì‚¬ì£¼ëª…ë¦¬" êµ¬ë§¤ (â‚©15,000)
   - ğŸ§  Supabase Vector + OpenAI Embeddings
   - ğŸ¤– Claude 3.5 Sonnet ë˜ëŠ” GPT-4 Turbo

3. **ê¸°ìˆ  ìŠ¤íƒ**
   - âš¡ Next.js 14 + Tailwind CSS
   - ğŸ—„ï¸ Supabase (PostgreSQL + pgvector)
   - â˜ï¸ Vercel ë°°í¬

4. **ê°œë°œ ì¼ì •**
   - ğŸ“… MVP: 2ì£¼ (Week 1: ë°±ì—”ë“œ, Week 2: í”„ë¡ íŠ¸ì—”ë“œ)
   - ğŸ’° ì´ˆê¸° íˆ¬ì: ~$100
   - ğŸ“ˆ ì˜ˆìƒ ì›” ë¹„ìš©: $255-355 (1,000 DAU)

---

### ğŸš€ ë°”ë¡œ ì‹œì‘í•˜ê¸°

#### Step 1: í”„ë¡œì íŠ¸ ìƒì„± (5ë¶„)

```bash
# Next.js í”„ë¡œì íŠ¸ ìƒì„±
npx create-next-app@latest sajuchat --typescript --tailwind --app

cd sajuchat

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install bazi-calculator-by-alvamind korean-lunar-calendar
npm install @supabase/supabase-js @anthropic-ai/sdk openai
```

#### Step 2: Supabase í”„ë¡œì íŠ¸ ìƒì„± (10ë¶„)

1. https://supabase.com íšŒì›ê°€ì…
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
3. SQL Editorì—ì„œ ìŠ¤í‚¤ë§ˆ ì‹¤í–‰ (ë³¸ ë³´ê³ ì„œ 5.1ì ˆ ì°¸ê³ )
4. API í‚¤ ë³µì‚¬ â†’ `.env.local`ì— ì €ì¥

#### Step 3: í˜„ë¬˜ì˜ ì±… êµ¬ë§¤ (ì¦‰ì‹œ)

- ë¦¬ë””ë¶ìŠ¤: https://ridibooks.com/books/5146000001
- ê°€ê²©: â‚©15,000

#### Step 4: ì²« API êµ¬í˜„ (1ì‹œê°„)

```typescript
// app/api/saju/calculate/route.ts
import { NextResponse } from 'next/server';
import { BaziCalculator } from 'bazi-calculator-by-alvamind';

export async function POST(request: Request) {
  const { year, month, day, hour, minute, isLunar, gender } = await request.json();

  const calculator = new BaziCalculator();
  const bazi = calculator.calculate({
    year, month, day, hour, minute,
    timezone: 'Asia/Seoul',
    gender
  });

  return NextResponse.json({ bazi });
}
```

#### Step 5: ë¡œì»¬ í…ŒìŠ¤íŠ¸ (5ë¶„)

```bash
npm run dev
# http://localhost:3000 ì ‘ì†
```

---

### ğŸ“ í›„ì† ì§€ì›

ì´ ë³´ê³ ì„œë¡œ êµ¬í˜„ ì¤‘ ë§‰íˆëŠ” ë¶€ë¶„ì´ ìˆë‹¤ë©´:

1. **ê¸°ìˆ  ì§ˆë¬¸**: GitHub Issues í™œìš©
2. **ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì œ**: ê° ë¼ì´ë¸ŒëŸ¬ë¦¬ GitHubì— Issue ì‘ì„±
3. **ì‚¬ì£¼ ì•Œê³ ë¦¬ì¦˜ ê²€ì¦**: í¬ìŠ¤í…”ëŸ¬ ë§Œì„¸ë ¥ê³¼ ë³‘ë ¬ ë¹„êµ

---

### ğŸ¯ ì„±ê³µì„ ìœ„í•œ ë§ˆì§€ë§‰ ì¡°ì–¸

1. **MVPë¶€í„° ì‹œì‘í•˜ì„¸ìš”**
   - í† ì •ë¹„ê²°, ìë¯¸ë‘ìˆ˜ëŠ” Phase 2ë¡œ ë¯¸ë£¸
   - ê¸°ë³¸ ì‚¬ì£¼ + AI ì±—ë´‡ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•œ ê°€ì¹˜

2. **ì‚¬ìš©ì í”¼ë“œë°± ìµœìš°ì„ **
   - 100ëª… ë² íƒ€ í…ŒìŠ¤í„° ëª¨ì§‘
   - ì‚¬ì£¼ ì •í™•ë„ ê²€ì¦
   - ì±—ë´‡ ë‹µë³€ í’ˆì§ˆ ê°œì„ 

3. **ì»¤ë®¤ë‹ˆí‹° êµ¬ì¶•**
   - í¬ìŠ¤í…”ëŸ¬/í—¬ë¡œìš°ë´‡ ì‚¬ìš©ì í¡ìˆ˜
   - "ë¬´ë£Œ ì •í†µ ì‚¬ì£¼ ë ˆí¬íŠ¸"ë¡œ ë§ˆì¼€íŒ…
   - ì…ì†Œë¬¸ ë°”ì´ëŸ´ ì „ëµ

4. **ìœ¤ë¦¬ ìµœìš°ì„ **
   - ì˜ë£Œ/ë²•ë¥  ëŒ€ì²´ ì ˆëŒ€ ê¸ˆì§€
   - ìœ„ê¸° ìƒí™© ì „ë¬¸ê°€ ì—°ê³„
   - ë°ì´í„° í”„ë¼ì´ë²„ì‹œ ì² ì €íˆ

---

## ğŸ ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥ (ì˜¤ëŠ˜)
- [ ] Next.js í”„ë¡œì íŠ¸ ìƒì„±
- [ ] bazi-calculator-by-alvamind ì„¤ì¹˜
- [ ] Supabase ê³„ì • ìƒì„±
- [ ] í˜„ë¬˜ì˜ ì±… êµ¬ë§¤ (â‚©15,000)
- [ ] Claude/GPT API í‚¤ ë°œê¸‰

### Week 1 ëª©í‘œ
- [ ] ì‚¬ì£¼ ê³„ì‚° API ì™„ì„±
- [ ] Supabase DB ìŠ¤í‚¤ë§ˆ êµ¬ì¶•
- [ ] ì§€ì‹ë² ì´ìŠ¤ ì„ë² ë”© ì™„ë£Œ
- [ ] AI ì±—ë´‡ ë°±ì—”ë“œ êµ¬í˜„

### Week 2 ëª©í‘œ
- [ ] ì˜¨ë³´ë”© í˜ì´ì§€ UI
- [ ] ì‚¬ì£¼ ë ˆí¬íŠ¸ í™”ë©´
- [ ] ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤
- [ ] Vercel ë°°í¬

### Launch Day
- [ ] 100ëª… ë² íƒ€ í…ŒìŠ¤í„° ì´ˆëŒ€
- [ ] ì‚¬ì£¼ ì •í™•ë„ êµì°¨ ê²€ì¦
- [ ] í”¼ë“œë°± ìˆ˜ì§‘ ì‹œìŠ¤í…œ ê°€ë™
- [ ] SNS ë§ˆì¼€íŒ… ì‹œì‘

---

**ì‘ì„± ì™„ë£Œì¼:** 2025ë…„ 10ì›” 27ì¼
**ë²„ì „:** 1.0
**ë‹¤ìŒ ì—…ë°ì´íŠ¸:** Phase 2 í™•ì¥ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ

---

í–‰ìš´ì„ ë¹•ë‹ˆë‹¤! ğŸ€
